(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bca02ce"],{"2d1c":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"home_nav"},t._l(t.productList,(function(i){return e("el-card",{key:i.id,class:{fixed:"Y"==i.is_fix,hightOdds:t.app.hightOddsId==i.id},attrs:{shadow:"never"}},[e("div",{on:{click:function(e){return t.productClick(i)}}},[e("el-row",[e("el-col",{attrs:{span:18}},[e("div",{staticClass:"grid-content bg-purple p_info"},[e("img",{attrs:{src:t._f("imgFormatter")(i.icon)}}),e("span",[t._v(t._s(i.name))])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"grid-content bg-purple"},[e("div",["N"==i.is_fix?e("i",{staticClass:"fas fa-chevron-right ic_right"}):e("span",{staticClass:"ic_right"},[t._v("维护中")])])])])],1)],1)])})),1)},r=[],o=(e("c5f6"),e("7f7f"),e("ac6a"),e("5880"),e("c4c8")),s=e("c24f"),a=null,c={name:"Home-Nav",data:function(){return{}},computed:{user:function(){return this.$store.getters.user},app:function(){return this.$store.getters.app},product:function(){return this.$store.getters.product},id:function(){return this.$route.params.id},productList:function(){var t=this,i=this.product.list.filter((function(i){return i.nav_id==t.id&&"Y"==i.is_show}));return i},filterProduct:function(){var t=this,i=function(i){var e=!1;return t.product.navList.forEach((function(t){t.list&&t.list.forEach((function(n){n.id==i&&"Y"==t.is_show&&(e=!0)}))})),e},e=this.product.list.filter((function(t){return"Y"==t.is_show&&i(t.id)}));return e}},mounted:function(){this.init()},methods:{init:function(){},productClick:function(t){var i=this;if(-1!=this.user.roles.indexOf("user"))if(this.app.hightOddsId!=t.id){if("Y"!=t.is_fix)if(this.app.isApp)this.appItemClick(t);else{var e=t.id;10==e||18==e?this.$router.push("/product/"+e):(a&&a.close(),a=window.open("","product"),setTimeout((function(){var t=i.$router.resolve("/redirect?pid="+e);a.location=t.href}),100))}}else this.$router.push("/activity/hightodds");else this.$message.error("请先登录账号")},appItemClick:function(t){var i=this;if(10==t.id||18==t.id){var e="/product/"+t.id;this.$store.dispatch("postMsgToApp",{action:"presentModal",data:{url:e,title:t.name}})}else if(6==t.id){var n="/redirect?pid="+t.id;this.$store.dispatch("postMsgToApp",{action:"presentModal",data:{url:n,title:t.name}})}else this.loading=this.$loading({lock:!0,text:this.app.autoExchange?"余额自动转入游戏中":"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.app.autoExchange?this.reloadBalance(t,(function(e){if(e){var n=i.filterProduct.map((function(t){return t.id})).join(",");i.$store.dispatch("productBalanceByAjax",{product_ids:n}).then((function(){i.getProductUrlInApp(t)}))}else i.getProductUrlInApp(t)})):this.getProductUrlInApp(t)},reloadBalance:function(t,i){var e=this,n=this.filterProduct.map((function(t){return t.id})).join(",");this.$store.dispatch("productBalanceByAjax",{product_ids:n}).then((function(n){if(200==n.code){var r=[],a=0;for(var c in n.list){var d=Number(n.list[c].money);0!=c&&c!=t.id&&d>0&&r.push(c),0==c&&(a=d)}if(r.length){var u={type:3,product_id:r.join(",")};Object(s["p"])(u).then((function(n){200==n.code?Object(o["f"])(t.id).then((function(){setTimeout((function(){e.loading.close(),i&&i(1)}),3e3)})):(e.$message.error(n.info),e.loading.close(),i&&i())}))}else a>0?Object(o["f"])(t.id).then((function(){e.loading.close(),i&&i()})):(e.loading.close(),i&&i())}else e.$message.error(n.info),e.loading.close(),i&&i()}))},getProductUrlInApp:function(t){var i=this,e={product_id:t.id,gameversion:2,orientation:2};this.loading=!0,Object(o["e"])(e).then((function(e){if(200==e.code){var n=e.list.login_url;17==t.id?i.$store.dispatch("postMsgToApp",{action:"openURL",data:{url:n}}):i.$store.dispatch("postMsgToApp",{action:"presentModal",data:{url:n,title:t.name}})}else i.$message.error(e.info);setTimeout((function(){i.loading=!1}),500)}))}}},d=c,u=(e("4466"),e("2877")),l=Object(u["a"])(d,n,r,!1,null,null,null);i["default"]=l.exports},4466:function(t,i,e){"use strict";var n=e("c7aa"),r=e.n(n);r.a},c7aa:function(t,i,e){}}]);
//# sourceMappingURL=chunk-7bca02ce.de635cce.js.map