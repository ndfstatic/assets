{"version":3,"sources":["webpack:///./src/views/activity/Detail.vue?4cd1","webpack:///./src/views/activity/Detail.vue?a55b","webpack:///src/views/activity/Detail.vue","webpack:///./src/views/activity/Detail.vue?f51a","webpack:///./src/views/activity/Detail.vue?1ada"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","productClick","staticRenderFns","component"],"mappings":"yIAAA,yBAA6hB,EAAG,G,yCCAhiB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,GAAGH,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIQ,GAAG,+BAA+BJ,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQV,EAAIW,eAAe,CAACP,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,WAAW,CAACT,EAAIQ,GAAG,6CAA6C,QACtYI,EAAkB,CAAC,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAIQ,GAAG,4B,kEC0BlK,GACE,KAAF,kBAEE,KAHF,WAII,MAAJ,CACM,OAAN,KAME,SAAF,CACA,KADA,WACA,iCACA,IAFA,WAEA,gCACI,QAHJ,WAGM,OAAN,6BAEI,cALJ,WAKM,IAAN,OACA,cACQ,IAAR,KAWQ,OAVA,EAAR,qCACU,EAAV,kCACA,SACA,iBACgB,GAAhB,SAMA,GAGA,wCACQ,MAAR,2BAGM,OAAN,IAIE,QAxCF,WAyCI,KAAJ,QAGE,QAAF,CACI,KADJ,aAKI,aALJ,WAKM,IAAN,OACA,OAQM,GANA,KAAN,kCACA,0BACU,EAAV,MAIA,GAEA,cAIM,GAAN,eACQ,KAAR,oBACA,CACQ,IAAR,OAEQ,GAAR,MACU,KAAV,gCACA,CACU,IAAV,2BACU,YAAV,WACY,IAAZ,wCACY,EAAZ,kBACA,QAKI,aArCJ,SAqCA,GAAM,IAAN,OACM,GAAN,UACQ,IAAR,mBACQ,KAAR,gCACU,OAAV,eACU,KAAV,CACY,IAAZ,EACY,MAAZ,eAMQ,KAAR,uBACU,MAAV,EACU,KAAV,wCACU,QAAV,kBACU,WAAV,uBAGA,sBACU,KAAV,6BACY,GAAZ,GACc,IAAd,mCAAgB,OAAhB,kBACc,EAAd,wCAAgB,YAAhB,qBACgB,EAAhB,8BAGc,EAAd,yBAIU,KAAV,uBAKI,cA1EJ,SA0EA,KAAM,IAAN,OACA,sCAAQ,OAAR,kBAEM,KAAN,wCAAQ,YAAR,sBACQ,GAAR,aACU,IAAV,KAAc,EAAd,EACU,IAAV,iBACY,IAAZ,0BAEA,eAEA,KACgB,EAAhB,QAIA,OACc,EAAd,GAIU,GAAV,UACY,IAAZ,GACc,KAAd,EACc,WAAd,aAGY,OAAZ,OAAY,CAAZ,qBACA,YACgB,OAAhB,OAAgB,CAAhB,uBACkB,YAAlB,WACoB,EAApB,gBACoB,GAApB,OACA,SAGgB,EAAhB,uBACgB,EAAhB,gBACgB,GAAhB,aAIA,IACc,OAAd,OAAc,CAAd,uBACgB,EAAhB,gBACgB,GAAhB,QAGc,EAAd,gBACc,GAAd,UAKU,EAAV,uBACU,EAAV,gBACU,GAAV,QAKI,mBAvIJ,SAuIA,GAAM,IAAN,OACA,GACQ,WAAR,KACQ,YAAR,EACQ,YAAR,GAGM,KAAN,WACM,OAAN,OAAM,CAAN,qBACA,YACU,EAAV,gCACY,OAAZ,eACY,KAAZ,CACc,IAAd,iBACc,MAAd,UAIA,yBAGQ,YAAR,WACU,EAAV,aACA,WCrO+V,I,wBCQ3VK,EAAY,eACd,EACAd,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"static/js/chunk-1af47435.6f27c114.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity_detail\"},[_vm._m(0),_c('h3',[_vm._v(\"活动详情\")]),_c('div',[_c('p',[_vm._v(\"本平台为回馈新老客户，特推出全网最高赔率彩票活动。\")]),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.productClick}},[_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"\\n                进入SG彩票\\n            \")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_c('i',{staticClass:\"fas fa-fire-alt\"}),_vm._v(\"\\n        高倍彩票\\n    \")])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"activity_detail\">\n        <h1>\n            <i class=\"fas fa-fire-alt\"></i>\n            高倍彩票\n        </h1>\n\n        <h3>活动详情</h3>\n        <div>\n            <!-- <p>1. SG彩票为全网最高赔率彩票</p>\n            <p style=\"color: #ff5858;\">2. 凡在本彩票中产生大于本金的收益，需在其他游戏中产生等同本金的流水方可提款</p>\n            <p>3. 本活动最终解释权归本平台所有，如有任何疑问请咨询线上客服或微信客服</p> -->\n            <p>本平台为回馈新老客户，特推出全网最高赔率彩票活动。</p>\n            <a href=\"javascript:;\" @click=\"productClick\">\n                <el-button type=\"danger\">\n                    进入SG彩票\n                </el-button>\n            </a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { getUrl, transferallout } from '@/api/product'\nimport { transfer  } from '@/api/user'\n\nexport default {\n    name: 'activity-detail',\n\n    data() {\n        return {\n            detail: {\n\n            },\n        }\n    },\n\n    computed: {\n\t\tuser() { return this.$store.getters.user },\n\t\tapp() { return this.$store.getters.app },\n        product() { return this.$store.getters.product },\n\n        filterProduct() {\n            const checkNavIsShow = (id) => {\n                let res = false;\n                this.product.navList.forEach(nav => {\n                    nav.list && nav.list.forEach(p => {\n                        if(p.id == id) {\n                            if(nav.is_show == 'Y') {\n                                res = true;\n                            } \n                        }\n                    })\n                })\n\n                return res;\n            }\n\n            const list = this.product.list.filter(item => {\n                return item.is_show == 'Y' && checkNavIsShow(item.id);\n            });\n\n            return list;\n        },\n    },\n\n    mounted() {\n        this.init();\n    },\n\n    methods: {\n       init() {\n           \n       },\n\n       productClick() {\n           let product = null;\n\n           this.product.list.forEach(item => {\n               if(item.id == this.app.hightOddsId) {\n                   product = item;\n               }\n           })\n\n           if(!product) return ;\n\n           if(product.is_fix == 'Y') {\n               return ;\n           }\n\n           if(this.app.isApp) {\n               this.appItemClick(product);\n           }else {\n                const id = product.id;\n\n                if(id == 10) {\n                    this.$router.push('/product/' + id);\n                }else {\n                    let winOpen = window.open(\"\", \"_blank\");\n                    setTimeout(() => {\n                        const link = this.$router.resolve('/redirect?pid=' + id);\n                        winOpen.location = link.href;\n                    }, 100);\n                }\n           }\n       },\n       \n       appItemClick(product) {\n            if(product.id == 10) {\n                const url = '/product/' + product.id;\n                this.$store.dispatch('postMsgToApp', {\n                    action: 'presentModal',\n                    data: {\n                        url,\n                        title: product.name\n                    }\n                })\n            }else {\n                // if(this.loading) return ;\n                // this.loading = true;\n                this.loading = this.$loading({\n                    lock: true,\n                    text: this.app.autoExchange ? '余额自动转入游戏中' : '加载中',\n                    spinner: 'el-icon-loading',\n                    background: 'rgba(0, 0, 0, 0.7)'\n                });\n\n                if(this.app.autoExchange) {\n                    this.reloadBalance(product, (hadExchange) => {\n                        if(hadExchange) {\n                            const product_ids = this.filterProduct.map(item => { return item.id }).join(',');\n                            this.$store.dispatch('productBalanceByAjax', { product_ids }).then(() => {\n                                this.getProductUrlInApp(product);\n                            });\n                        }else {\n                            this.getProductUrlInApp(product);\n                        }\n                    });\n                }else {\n                    this.getProductUrlInApp(product);\n                }\n            }\n        },\n\n        reloadBalance(product, callback) {\n            const product_ids = this.filterProduct.map(item => { return item.id }).join(',');\n            // this.loading = true;\n            this.$store.dispatch('productBalanceByAjax', { product_ids }).then((json) => {\n                if(json.code == 200) {\n                    let idArr = [], total_money = 0;\n                    for(let id in json.list) {\n                        const money = Number(json.list[id].money);\n                        \n                        if(id != 0 && id != product.id) {\n                            // 大于 0 则 回收\n                            if(money > 0) {\n                                idArr.push(id);\n                            }\n                        }\n\n                        if(id == 0) {\n                            total_money = money\n                        }\n                    }\n\n                    if(idArr.length) {\n                        const data = {\n                            type: 3,\n                            product_id: idArr.join(','),\n                        }\n\n                        transfer(data).then(json => {\n                            if (json.code == 200) {\n                                transferallout(product.id).then(() => {\n                                    setTimeout(() => {\n                                        this.loading.close();\n                                        callback && callback(1);\n                                    }, 3000);     \n                                });\n                            } else {\n                                this.$message.error(json.info);\n                                this.loading.close();\n                                callback && callback();\n                            }\n                        });\n                    }else {\n                        if(total_money > 0) {\n                            transferallout(product.id).then(() => {\n                                this.loading.close();\n                                callback && callback();\n                            })\n                        }else {\n                            this.loading.close();\n                            callback && callback();\n                        }\n                    }\n\n                }else {\n                    this.$message.error(json.info);\n                    this.loading.close();\n                    callback && callback();\n                }\n            });\n        },\n\n        getProductUrlInApp(product) {\n            const data = {\n                product_id: product.id,\n                gameversion: 2,\n                orientation: 2,\n            }\n\n            this.loading = true;\n            getUrl(data).then(json => {\n\t\t\t\tif (json.code == 200) {\n                    this.$store.dispatch('postMsgToApp', {\n                        action: 'presentModal',\n                        data: {\n                            url: json.list.login_url,\n                            title: product.name\n                        }\n                    })\n\t\t\t\t} else {\n\t\t\t\t\tthis.$message.error(json.info);\n                }\n                \n                setTimeout(() => {\n                    this.loading = false;\n                }, 500);\n\t\t\t});\n        },\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n\n.activity_detail {\n    padding: 10px 15px;\n    color: #fff;\n\n    h1 {\n        font-size: 24px;\n        color: #f15b5b;\n    }\n\n    h3 {\n        font-size: 18px;\n        border-bottom: 1px solid #8a8a8a;\n        padding-bottom: 10px;\n    }\n\n    a {\n        color: #fff;\n    }\n}\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=0feefe83&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}