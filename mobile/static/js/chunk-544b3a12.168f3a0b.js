(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-544b3a12"],{"3bf6":function(r,e,t){},"7b0a":function(r,e,t){"use strict";function n(r,e,t){/.*[\u4e00-\u9fa5]+.*/.test(e)?t(new Error("不能包含中文")):t()}t.d(e,"g",(function(){return a})),t.d(e,"c",(function(){return o})),t.d(e,"d",(function(){return i})),t.d(e,"i",(function(){return s})),t.d(e,"f",(function(){return u})),t.d(e,"h",(function(){return l})),t.d(e,"e",(function(){return c})),t.d(e,"j",(function(){return g})),t.d(e,"a",(function(){return m})),t.d(e,"b",(function(){return d}));var a=[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,message:"密码最少6位",trigger:"blur"},{validator:n,trigger:"blur"}],o=[{required:!0,message:"邀请码不能为空",trigger:"blur"}],i=[{required:!0,message:"提款码不能为空",trigger:"blur"},{validator:function(r,e,t){""===e?t(new Error("请输入提款码")):/^\d+$/.test(e)?(6!=e.length&&t(new Error("提款码为6位数字")),t()):t(new Error("提款码6位数字"))},trigger:"blur"}],s=[{required:!0,message:"手机号不能为空",trigger:"blur"},{validator:function(r,e,t){/^1[3456789]\d{9}$/.test(e)?t():t(new Error("手机号格式错误"))},trigger:"blur"}],u=[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式错误",trigger:"blur"}],l=[{required:!0,message:"验证码不能为空",trigger:"blur"},{type:"number",message:"验证码数字",trigger:"blur"},{validator:n,trigger:"blur"}],c=[{required:!0,message:"验证码不能为空",trigger:"blur"},{type:"number",message:"验证码数字",trigger:"blur"}];function g(r,e,t){/^[a-zA-Z0-9]{6,20}$/.test(e)?t():t(new Error("用户名长度必须6-20位，允许字符：字母、数字"))}var m=[{required:!0,message:"银行卡号不能为空",trigger:"blur"},{validator:function(r,e,t){/^[0-9]{14,20}$/.test(e)?t():t(new Error("银行卡号格式有误"))},trigger:"blur"}],d=[{required:!0,message:"姓名不能为空",trigger:"blur"},{validator:function(r,e,t){/^[\u4E00-\u9FA5]+$/.test(e)?e.length<2?t(new Error("姓名长度错误")):t():t(new Error("姓名必须是中文名"))},trigger:"blur"}]},ac2a:function(r,e,t){"use strict";t.r(e);var n=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"auth_login"},[t("div",{staticClass:"title"},[r._v("用户登录")]),58150!=r.user.domain.agent_id?t("el-form",{ref:"form",attrs:{model:r.formData,"status-icon":"",rules:r.formRules,"label-position":"top"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入账号，长度不能小于6位"},model:{value:r.formData.username,callback:function(e){r.$set(r.formData,"username",e)},expression:"formData.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",clearable:"",autocomplete:"off",placeholder:"请输入密码，长度不能小于6位"},model:{value:r.formData.password,callback:function(e){r.$set(r.formData,"password",e)},expression:"formData.password"}})],1),t("el-form-item",{staticClass:"submit_item"},[t("el-button",{attrs:{type:"primary",loading:r.loading},on:{click:r.submitForm}},[r._v("登录")])],1),t("div",{staticClass:"tips"},[t("span",{on:{click:function(e){return r.pushPath("/auth/register")}}},[r._v("注册账号")]),t("span",{staticStyle:{float:"right"},on:{click:function(e){return r.pushPath("/help")}}},[r._v("忘记密码？")])])],1):t("div",{staticStyle:{padding:"28px"}},[r._v("\n        请联系代理获取邀请码注册正式会员\n    ")])],1)},a=[],o=(t("5880"),t("7b0a")),i={name:"User-Login",data:function(){return{formData:{username:"",password:""},loading:!1,formRules:{username:{require:!0,validator:o["j"],trigger:"blur"},password:o["g"]}}},computed:{app:function(){return this.$store.getters.app},user:function(){return this.$store.getters.user},localPhone:function(){return window.localStorage.getItem("phone")}},mounted:function(){this.init()},methods:{init:function(){},submitForm:function(){var r=this;this.formData.username=this.formData.username.trim(),this.$refs.form.validate((function(e){if(!e)return console.log("提交错误"),!1;if(!r.loading){var t={username:r.formData.username,password:r.formData.password};r.loading=!0,r.$store.dispatch("loginByUsername",t).then((function(e){r.loading=!1,200==e.code&&(r.localPhone&&window.localStorage.removeItem("phone"),r.app.isApp&&r.$message({message:"登录成功",type:"success",duration:1e3,onClose:function(){r.$store.dispatch("postMsgToApp",{action:"login",data:{token:e.token}})}}))}))}}))},pushPath:function(r){this.$router.push({path:r})}}},s=i,u=(t("f427"),t("2877")),l=Object(u["a"])(s,n,a,!1,null,null,null);e["default"]=l.exports},f427:function(r,e,t){"use strict";var n=t("3bf6"),a=t.n(n);a.a}}]);
//# sourceMappingURL=chunk-544b3a12.168f3a0b.js.map