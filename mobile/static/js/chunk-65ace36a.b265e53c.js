(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65ace36a"],{"0506":function(t,e,a){},"0a49":function(t,e,a){var n=a("9b43"),i=a("626a"),s=a("4bf8"),r=a("9def"),o=a("cd1c");t.exports=function(t,e){var a=1==t,l=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d,f=e||o;return function(e,o,m){for(var h,g,_=s(e),v=i(_),b=n(o,m,3),y=r(v.length),w=0,k=a?f(e,y):l?f(e,0):void 0;y>w;w++)if((p||w in v)&&(h=v[w],g=b(h,w,_),t))if(a)k[w]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return w;case 2:k.push(h)}else if(u)return!1;return d?-1:c||u?u:k}}},"0b74":function(t,e,a){"use strict";var n=a("bcb3"),i=a.n(n);i.a},1097:function(t,e,a){"use strict";var n=a("8efd"),i=a.n(n);i.a},"20d6":function(t,e,a){"use strict";var n=a("5ca1"),i=a("0a49")(6),s="findIndex",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),n(n.P+n.F*r,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},"2c68":function(t,e,a){},"331b":function(t,e,a){"use strict";var n=a("33b7"),i=a.n(n);i.a},"33b7":function(t,e,a){},"3ab8":function(t,e,a){"use strict";var n=a("f951"),i=a.n(n);i.a},"3c9d":function(t,e,a){"use strict";var n=a("f5e0"),i=a.n(n);i.a},"5cbe":function(t,e,a){},6450:function(t,e,a){"use strict";var n=a("7b68"),i=a.n(n);i.a},6499:function(t,e,a){"use strict";var n=a("6ad1"),i=a.n(n);i.a},"6ad1":function(t,e,a){},"6bea":function(t,e,a){"use strict";var n=a("bd8a"),i=a.n(n);i.a},"7b0a":function(t,e,a){"use strict";function n(t,e,a){/.*[\u4e00-\u9fa5]+.*/.test(e)?a(new Error("不能包含中文")):a()}a.d(e,"g",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"i",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"h",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"a",(function(){return p})),a.d(e,"b",(function(){return f}));var i=[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,message:"密码最少6位",trigger:"blur"},{validator:n,trigger:"blur"}],s=[{required:!0,message:"邀请码不能为空",trigger:"blur"}],r=[{required:!0,message:"提款码不能为空",trigger:"blur"},{validator:function(t,e,a){""===e?a(new Error("请输入提款码")):/^\d+$/.test(e)?(6!=e.length&&a(new Error("提款码为6位数字")),a()):a(new Error("提款码6位数字"))},trigger:"blur"}],o=[{required:!0,message:"手机号不能为空",trigger:"blur"},{validator:function(t,e,a){/^1[3456789]\d{9}$/.test(e)?a():a(new Error("手机号格式错误"))},trigger:"blur"}],l=[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式错误",trigger:"blur"}],c=[{required:!0,message:"验证码不能为空",trigger:"blur"},{type:"number",message:"验证码数字",trigger:"blur"},{validator:n,trigger:"blur"}],u=[{required:!0,message:"验证码不能为空",trigger:"blur"},{type:"number",message:"验证码数字",trigger:"blur"}];function d(t,e,a){/^[a-zA-Z0-9]{6,20}$/.test(e)?a():a(new Error("用户名长度必须6-20位，允许字符：字母、数字"))}var p=[{required:!0,message:"银行卡号不能为空",trigger:"blur"},{validator:function(t,e,a){/^[0-9]{14,20}$/.test(e)?a():a(new Error("银行卡号格式有误"))},trigger:"blur"}],f=[{required:!0,message:"姓名不能为空",trigger:"blur"},{validator:function(t,e,a){/^[\u4E00-\u9FA5]+$/.test(e)?e.length<2?a(new Error("姓名长度错误")):a():a(new Error("姓名必须是中文名"))},trigger:"blur"}]},"7b68":function(t,e,a){},"825a":function(t,e,a){"use strict";var n=a("d5f8"),i=a.n(n);i.a},"8efd":function(t,e,a){},"94a0":function(t,e,a){"use strict";var n=a("0506"),i=a.n(n);i.a},b85e:function(t,e,a){"use strict";var n=a("5cbe"),i=a.n(n);i.a},bcb3:function(t,e,a){},bd8a:function(t,e,a){},cd1c:function(t,e,a){var n=a("e853");t.exports=function(t,e){return new(n(t))(e)}},d0d1:function(t,e,a){},d1bd:function(t,e,a){
/*!
 * mobileSelect.js
 * (c) 2017-present onlyhom
 * Released under the MIT License.
 */
(function(){function e(t,e){return t.getElementsByClassName(e)}function n(t){this.mobileSelect,this.wheelsData=t.wheels,this.jsonType=!1,this.cascadeJsonData=[],this.displayJson=[],this.curValue=[],this.curIndexArr=[],this.cascade=!1,this.startY,this.moveEndY,this.moveY,this.oldMoveY,this.offset=0,this.offsetSum=0,this.oversizeBorder,this.curDistance=[],this.clickStatus=!1,this.isPC=!0,this.init(t)}a("2c68"),n.prototype={constructor:n,init:function(t){var a=this;if(0==t.wheels[0].data.length)return console.error("mobileSelect has been successfully installed, but the data is empty and cannot be initialized."),!1;if(a.keyMap=t.keyMap?t.keyMap:{id:"id",value:"value",childs:"childs"},a.checkDataType(),a.renderWheels(a.wheelsData,t.cancelBtnText,t.ensureBtnText),a.trigger=document.querySelector(t.trigger),!a.trigger)return console.error("mobileSelect has been successfully installed, but no trigger found on your page."),!1;if(a.wheel=e(a.mobileSelect,"wheel"),a.slider=e(a.mobileSelect,"selectContainer"),a.wheels=a.mobileSelect.querySelector(".wheels"),a.liHeight=a.mobileSelect.querySelector("li").offsetHeight,a.ensureBtn=a.mobileSelect.querySelector(".ensure"),a.cancelBtn=a.mobileSelect.querySelector(".cancel"),a.grayLayer=a.mobileSelect.querySelector(".grayLayer"),a.popUp=a.mobileSelect.querySelector(".content"),a.callback=t.callback||function(){},a.cancel=t.cancel||function(){},a.transitionEnd=t.transitionEnd||function(){},a.onShow=t.onShow||function(){},a.onHide=t.onHide||function(){},a.initPosition=t.position||[],a.titleText=t.title||"",a.connector=t.connector||" ",a.triggerDisplayData="undefined"==typeof t.triggerDisplayData||t.triggerDisplayData,a.trigger.style.cursor="pointer",a.setStyle(t),a.setTitle(a.titleText),a.checkIsPC(),a.checkCascade(),a.addListenerAll(),a.cascade&&a.initCascade(),a.initPosition.length<a.slider.length)for(var n=a.slider.length-a.initPosition.length,i=0;i<n;i++)a.initPosition.push(0);a.setCurDistance(a.initPosition),a.cancelBtn.addEventListener("click",(function(){a.hide(),a.cancel(a.curIndexArr,a.curValue)})),a.ensureBtn.addEventListener("click",(function(){a.hide(),a.liHeight||(a.liHeight=a.mobileSelect.querySelector("li").offsetHeight);for(var t="",e=0;e<a.wheel.length;e++)e==a.wheel.length-1?t+=a.getInnerHtml(e):t+=a.getInnerHtml(e)+a.connector;a.triggerDisplayData&&(a.trigger.innerHTML=t),a.curIndexArr=a.getIndexArr(),a.curValue=a.getCurValue(),a.callback(a.curIndexArr,a.curValue)})),a.trigger.addEventListener("click",(function(){a.show()})),a.grayLayer.addEventListener("click",(function(){a.hide(),a.cancel(a.curIndexArr,a.curValue)})),a.popUp.addEventListener("click",(function(){event.stopPropagation()})),a.fixRowStyle()},setTitle:function(t){var e=this;e.titleText=t,e.mobileSelect.querySelector(".title").innerHTML=e.titleText},setStyle:function(t){var e=this;t.ensureBtnColor&&(e.ensureBtn.style.color=t.ensureBtnColor),t.cancelBtnColor&&(e.cancelBtn.style.color=t.cancelBtnColor),t.titleColor&&(e.title=e.mobileSelect.querySelector(".title"),e.title.style.color=t.titleColor),t.textColor&&(e.panel=e.mobileSelect.querySelector(".panel"),e.panel.style.color=t.textColor),t.titleBgColor&&(e.btnBar=e.mobileSelect.querySelector(".btnBar"),e.btnBar.style.backgroundColor=t.titleBgColor),t.bgColor&&(e.panel=e.mobileSelect.querySelector(".panel"),e.shadowMask=e.mobileSelect.querySelector(".shadowMask"),e.panel.style.backgroundColor=t.bgColor,e.shadowMask.style.background="linear-gradient(to bottom, "+t.bgColor+", rgba(255, 255, 255, 0), "+t.bgColor+")"),isNaN(t.maskOpacity)||(e.grayMask=e.mobileSelect.querySelector(".grayLayer"),e.grayMask.style.background="rgba(0, 0, 0, "+t.maskOpacity+")")},checkIsPC:function(){var t=this,e=navigator.userAgent.toLowerCase(),a="ipad"==e.match(/ipad/i),n="iphone os"==e.match(/iphone os/i),i="midp"==e.match(/midp/i),s="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),r="ucweb"==e.match(/ucweb/i),o="android"==e.match(/android/i),l="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);(a||n||i||s||r||o||l||c)&&(t.isPC=!1)},show:function(){this.mobileSelect.classList.add("mobileSelect-show"),"function"===typeof this.onShow&&this.onShow(this)},hide:function(){this.mobileSelect.classList.remove("mobileSelect-show"),"function"===typeof this.onHide&&this.onHide(this)},renderWheels:function(t,e,a){var n=this,i=e||"取消",s=a||"确认";n.mobileSelect=document.createElement("div"),n.mobileSelect.className="mobileSelect",n.mobileSelect.innerHTML='<div class="grayLayer"></div><div class="content"><div class="btnBar"><div class="fixWidth"><div class="cancel">'+i+'</div><div class="title"></div><div class="ensure">'+s+'</div></div></div><div class="panel"><div class="fixWidth"><div class="wheels"></div><div class="selectLine"></div><div class="shadowMask"></div></div></div></div>',document.body.appendChild(n.mobileSelect);for(var r="",o=0;o<t.length;o++){if(r+='<div class="wheel"><ul class="selectContainer">',n.jsonType)for(var l=0;l<t[o].data.length;l++)r+='<li data-id="'+t[o].data[l][n.keyMap.id]+'">'+t[o].data[l][n.keyMap.value]+"</li>";else for(l=0;l<t[o].data.length;l++)r+="<li>"+t[o].data[l]+"</li>";r+="</ul></div>"}n.mobileSelect.querySelector(".wheels").innerHTML=r},addListenerAll:function(){for(var t=this,e=0;e<t.slider.length;e++)(function(e){t.addListenerWheel(t.wheel[e],e)})(e)},addListenerWheel:function(t,e){var a=this;t.addEventListener("touchstart",(function(){a.touch(event,this.firstChild,e)}),!1),t.addEventListener("touchend",(function(){a.touch(event,this.firstChild,e)}),!1),t.addEventListener("touchmove",(function(){a.touch(event,this.firstChild,e)}),!1),a.isPC&&(t.addEventListener("mousedown",(function(){a.dragClick(event,this.firstChild,e)}),!1),t.addEventListener("mousemove",(function(){a.dragClick(event,this.firstChild,e)}),!1),t.addEventListener("mouseup",(function(){a.dragClick(event,this.firstChild,e)}),!0))},checkDataType:function(){var t=this;"object"==typeof t.wheelsData[0].data[0]&&(t.jsonType=!0)},checkCascade:function(){var t=this;if(t.jsonType){for(var e=t.wheelsData[0].data,a=0;a<e.length;a++)if(t.keyMap.childs in e[a]&&e[a][t.keyMap.childs].length>0){t.cascade=!0,t.cascadeJsonData=t.wheelsData[0].data;break}}else t.cascade=!1},generateArrData:function(t){for(var e=[],a=this.keyMap.id,n=this.keyMap.value,i=0;i<t.length;i++){var s={};s[a]=t[i][this.keyMap.id],s[n]=t[i][this.keyMap.value],e.push(s)}return e},initCascade:function(){var t=this;t.displayJson.push(t.generateArrData(t.cascadeJsonData)),t.initPosition.length>0?(t.initDeepCount=0,t.initCheckArrDeep(t.cascadeJsonData[t.initPosition[0]])):t.checkArrDeep(t.cascadeJsonData[0]),t.reRenderWheels()},initCheckArrDeep:function(t){var e=this;if(t&&e.keyMap.childs in t&&t[e.keyMap.childs].length>0){e.displayJson.push(e.generateArrData(t[e.keyMap.childs])),e.initDeepCount++;var a=t[e.keyMap.childs][e.initPosition[e.initDeepCount]];a?e.initCheckArrDeep(a):e.checkArrDeep(t[e.keyMap.childs][0])}},checkArrDeep:function(t){var e=this;t&&e.keyMap.childs in t&&t[e.keyMap.childs].length>0&&(e.displayJson.push(e.generateArrData(t[e.keyMap.childs])),e.checkArrDeep(t[e.keyMap.childs][0]))},checkRange:function(t,e){for(var a,n=this,i=n.displayJson.length-1-t,s=0;s<i;s++)n.displayJson.pop();for(s=0;s<=t;s++)a=0==s?n.cascadeJsonData[e[0]]:a[n.keyMap.childs][e[s]];n.checkArrDeep(a),n.reRenderWheels(),n.fixRowStyle(),n.setCurDistance(n.resetPosition(t,e))},resetPosition:function(t,e){var a,n=this,i=e;if(n.slider.length>e.length){a=n.slider.length-e.length;for(var s=0;s<a;s++)i.push(0)}else if(n.slider.length<e.length){a=e.length-n.slider.length;for(s=0;s<a;s++)i.pop()}for(s=t+1;s<i.length;s++)i[s]=0;return i},reRenderWheels:function(){var t=this;if(t.wheel.length>t.displayJson.length)for(var e=t.wheel.length-t.displayJson.length,a=0;a<e;a++)t.wheels.removeChild(t.wheel[t.wheel.length-1]);for(a=0;a<t.displayJson.length;a++)(function(e){var a="";if(t.wheel[e]){for(var n=0;n<t.displayJson[e].length;n++)a+='<li data-id="'+t.displayJson[e][n][t.keyMap.id]+'">'+t.displayJson[e][n][t.keyMap.value]+"</li>";t.slider[e].innerHTML=a}else{var i=document.createElement("div");i.className="wheel",a='<ul class="selectContainer">';for(n=0;n<t.displayJson[e].length;n++)a+='<li data-id="'+t.displayJson[e][n][t.keyMap.id]+'">'+t.displayJson[e][n][t.keyMap.value]+"</li>";a+="</ul>",i.innerHTML=a,t.addListenerWheel(i,e),t.wheels.appendChild(i)}})(a)},updateWheels:function(t){var e=this;if(e.cascade){if(e.cascadeJsonData=t,e.displayJson=[],e.initCascade(),e.initPosition.length<e.slider.length)for(var a=e.slider.length-e.initPosition.length,n=0;n<a;n++)e.initPosition.push(0);e.setCurDistance(e.initPosition),e.fixRowStyle()}},updateWheel:function(t,e){var a=this,n="";if(a.cascade)return console.error("级联格式不支持updateWheel(),请使用updateWheels()更新整个数据源"),!1;if(a.jsonType){for(var i=0;i<e.length;i++)n+='<li data-id="'+e[i][a.keyMap.id]+'">'+e[i][a.keyMap.value]+"</li>";a.wheelsData[t]={data:e}}else{for(i=0;i<e.length;i++)n+="<li>"+e[i]+"</li>";a.wheelsData[t]=e}a.slider[t].innerHTML=n},fixRowStyle:function(){for(var t=this,e=(100/t.wheel.length).toFixed(2),a=0;a<t.wheel.length;a++)t.wheel[a].style.width=e+"%"},getIndex:function(t){return Math.round((2*this.liHeight-t)/this.liHeight)},getIndexArr:function(){for(var t=this,e=[],a=0;a<t.curDistance.length;a++)e.push(t.getIndex(t.curDistance[a]));return e},getCurValue:function(){var t=this,e=[],a=t.getIndexArr();if(t.cascade)for(var n=0;n<t.wheel.length;n++)e.push(t.displayJson[n][a[n]]);else if(t.jsonType)for(n=0;n<t.curDistance.length;n++)e.push(t.wheelsData[n].data[t.getIndex(t.curDistance[n])]);else for(n=0;n<t.curDistance.length;n++)e.push(t.getInnerHtml(n));return e},getValue:function(){return this.curValue},calcDistance:function(t){return 2*this.liHeight-t*this.liHeight},setCurDistance:function(t){for(var e=this,a=[],n=0;n<e.slider.length;n++)a.push(e.calcDistance(t[n])),e.movePosition(e.slider[n],a[n]);e.curDistance=a},fixPosition:function(t){return-(this.getIndex(t)-2)*this.liHeight},movePosition:function(t,e){t.style.webkitTransform="translate3d(0,"+e+"px, 0)",t.style.transform="translate3d(0,"+e+"px, 0)"},locatePosition:function(t,e){var a=this;this.curDistance[t]=this.calcDistance(e),this.movePosition(this.slider[t],this.curDistance[t]),a.cascade&&a.checkRange(t,a.getIndexArr())},updateCurDistance:function(t,e){t.style.transform?this.curDistance[e]=parseInt(t.style.transform.split(",")[1]):this.curDistance[e]=parseInt(t.style.webkitTransform.split(",")[1])},getDistance:function(t){return t.style.transform?parseInt(t.style.transform.split(",")[1]):parseInt(t.style.webkitTransform.split(",")[1])},getInnerHtml:function(t){var e=this,a=e.getIndex(e.curDistance[t]);return e.slider[t].getElementsByTagName("li")[a].innerHTML},touch:function(t,e,a){var n=this;switch(t=t||window.event,t.type){case"touchstart":n.startY=t.touches[0].clientY,n.startY=parseInt(n.startY),n.oldMoveY=n.startY;break;case"touchend":if(n.moveEndY=parseInt(t.changedTouches[0].clientY),n.offsetSum=n.moveEndY-n.startY,n.oversizeBorder=-(e.getElementsByTagName("li").length-3)*n.liHeight,0==n.offsetSum){var i=parseInt((document.documentElement.clientHeight-n.moveEndY)/40);if(2!=i){var s=i-2,r=n.curDistance[a]+s*n.liHeight;r<=2*n.liHeight&&r>=n.oversizeBorder&&(n.curDistance[a]=r,n.movePosition(e,n.curDistance[a]),n.transitionEnd(n.getIndexArr(),n.getCurValue()))}}else n.updateCurDistance(e,a),n.curDistance[a]=n.fixPosition(n.curDistance[a]),n.movePosition(e,n.curDistance[a]),n.curDistance[a]+n.offsetSum>2*n.liHeight?(n.curDistance[a]=2*n.liHeight,setTimeout((function(){n.movePosition(e,n.curDistance[a])}),100)):n.curDistance[a]+n.offsetSum<n.oversizeBorder&&(n.curDistance[a]=n.oversizeBorder,setTimeout((function(){n.movePosition(e,n.curDistance[a])}),100)),n.transitionEnd(n.getIndexArr(),n.getCurValue());n.cascade&&n.checkRange(a,n.getIndexArr());break;case"touchmove":t.preventDefault(),n.moveY=t.touches[0].clientY,n.offset=n.moveY-n.oldMoveY,n.updateCurDistance(e,a),n.curDistance[a]=n.curDistance[a]+n.offset,n.movePosition(e,n.curDistance[a]),n.oldMoveY=n.moveY;break}},dragClick:function(t,e,a){var n=this;switch(t=t||window.event,t.type){case"mousedown":n.startY=t.clientY,n.oldMoveY=n.startY,n.clickStatus=!0;break;case"mouseup":if(n.moveEndY=t.clientY,n.offsetSum=n.moveEndY-n.startY,n.oversizeBorder=-(e.getElementsByTagName("li").length-3)*n.liHeight,0==n.offsetSum){var i=parseInt((document.documentElement.clientHeight-n.moveEndY)/40);if(2!=i){var s=i-2,r=n.curDistance[a]+s*n.liHeight;r<=2*n.liHeight&&r>=n.oversizeBorder&&(n.curDistance[a]=r,n.movePosition(e,n.curDistance[a]),n.transitionEnd(n.getIndexArr(),n.getCurValue()))}}else n.updateCurDistance(e,a),n.curDistance[a]=n.fixPosition(n.curDistance[a]),n.movePosition(e,n.curDistance[a]),n.curDistance[a]+n.offsetSum>2*n.liHeight?(n.curDistance[a]=2*n.liHeight,setTimeout((function(){n.movePosition(e,n.curDistance[a])}),100)):n.curDistance[a]+n.offsetSum<n.oversizeBorder&&(n.curDistance[a]=n.oversizeBorder,setTimeout((function(){n.movePosition(e,n.curDistance[a])}),100)),n.transitionEnd(n.getIndexArr(),n.getCurValue());n.clickStatus=!1,n.cascade&&n.checkRange(a,n.getIndexArr());break;case"mousemove":t.preventDefault(),n.clickStatus&&(n.moveY=t.clientY,n.offset=n.moveY-n.oldMoveY,n.updateCurDistance(e,a),n.curDistance[a]=n.curDistance[a]+n.offset,n.movePosition(e,n.curDistance[a]),n.oldMoveY=n.moveY);break}}},t.exports=n})()},d5f8:function(t,e,a){},dab6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"user_index"}},[a("div",{staticClass:"user_main"},[t.page?t._e():a("div",{staticClass:"user_index"},[a("div",{staticClass:"nav_block"},[t.isLogin?a("div",{staticClass:"top_nav profile",on:{click:function(e){return t.pushPath("/vip")}}},[a("div",{staticClass:"home_card"},[t._m(0),t.vipInfo?a("div",{staticClass:"c_info"},[a("div",{staticClass:"progress"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.vipInfo[t.user.userInfo.level].name)+"\n\t\t\t\t\t\t\t\t\t"),a("img",{attrs:{src:t._f("imgFormatter")(t.vipInfo[t.user.userInfo.level].avatar)}})]),t.vipInfo[Number(t.user.userInfo.level)+1]?[a("div",{staticClass:"progress"},[t._v("\n\t\t\t\t\t\t\t\t\t\t晋级 \n\t\t\t\t\t\t\t\t\t\t"),a("el-progress",{attrs:{percentage:t.getPercentage(t.user.userInfo.exp,t.vipInfo[Number(t.user.userInfo.level)+1].chargeAmount)}}),a("el-progress",{attrs:{color:"#f56c6c",percentage:t.getPercentage(t.user.userInfo.stream_total,t.vipInfo[Number(t.user.userInfo.level)+1].orderAmount)}})],1),t.user.userInfo.level>1?a("div",{staticClass:"progress"},[t._v("\n\t\t\t\t\t\t\t\t\t\t保级 \n\t\t\t\t\t\t\t\t\t\t"),a("el-progress",{attrs:{percentage:t.getPercentage(t.user.userInfo.stream_total,t.vipInfo[Number(t.user.userInfo.level)].keepLevelAmount)}})],1):t._e()]:t._e()],2):t._e(),a("i",{staticClass:"fas fa-chevron-right ic_right"}),a("div",{staticClass:"clearfix"})])]):t._e(),t.isLogin?a("div",{staticClass:"top_nav"},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{on:{click:function(e){return t.pushPath("/charge")}}},[a("i",{staticClass:"fas fa-yen-sign"}),t._v("\n\t\t\t\t\t\t\t\t\t\t存款\n\t\t\t\t\t\t\t\t\t\t"),a("div",{staticClass:"line"})])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{on:{click:function(e){return t.pushPath("/user/withdraw")}}},[a("i",{staticClass:"fas fa-hand-holding-usd"}),t._v("\n\t\t\t\t\t\t\t\t\t\t取款\n\t\t\t\t\t\t\t\t\t\t"),a("div",{staticClass:"line"})])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{on:{click:function(e){return t.pushPath("/user/exchange")}}},[a("i",{staticClass:"fas fa-exchange-alt"}),t._v("\n\t\t\t\t\t\t\t\t\t\t额度转换\n\t\t\t\t\t\t\t\t\t")])])])],1)],1):t._e(),a("el-card",{staticClass:"box-card",style:{marginTop:(t.isLogin?0:20)+"px"},attrs:{shadow:"never"}},[t.isLogin?a("div",t._l(t.list,(function(e){return a("span",{key:e.path,staticClass:"item",class:e.class,on:{click:function(a){return t.pushPath(e.path)}}},[a("i",{staticClass:"ic_left",class:e.icon}),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t"),a("i",{staticClass:"fas fa-chevron-right ic_right"})])})),0):a("div",[a("span",{staticClass:"item login",on:{click:function(e){return t.pushPath("/auth/login")}}},[a("i",{staticClass:"ic_left",class:"fas fa-user"}),t._v("\n\t\t\t\t\t\t\t\t登录账号\n\t\t\t\t\t\t\t\t"),a("i",{staticClass:"fas fa-chevron-right ic_right"})]),a("span",{staticClass:"item register",on:{click:function(e){return t.pushPath("/auth/register")}}},[a("i",{staticClass:"ic_left",class:"fas fa-user-plus"}),t._v("\n\t\t\t\t\t\t\t\t注册账号\n\t\t\t\t\t\t\t\t"),a("i",{staticClass:"fas fa-chevron-right ic_right"})]),a("span",{staticClass:"item help",on:{click:function(e){return t.pushPath("/help")}}},[a("i",{staticClass:"ic_left",class:"fas fa-comment-dots"}),t._v("\n\t\t\t\t\t\t\t\t联系客服\n\t\t\t\t\t\t\t\t"),a("i",{staticClass:"fas fa-chevron-right ic_right"})])])]),!t.app.isApp||t.isLogin?a("el-card",{staticClass:"box-card second",attrs:{shadow:"never"}},[t.app.isApp?t._e():[58150!=t.user.domain.agent_id?a("router-link",{staticClass:"item download",attrs:{to:"/app",target:"_blank"}},[a("i",{staticClass:"fas fa-download ic_left"}),t._v(" APP下载\n\t\t                    ")]):t._e()],t.isLogin?a("a",{staticClass:"item sign_out",attrs:{href:"javascript:;"},on:{click:t.logout}},[a("i",{staticClass:"fas fa-sign-out-alt"}),t._v("\n\t\t\t\t\t\t\t退出登录\n\t\t\t\t\t\t")]):t._e()],2):t._e()],1)]),t.page?a("div",["transfer"==t.page?a("Transfer",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"bank"==t.page?a("Bank",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"security"==t.page?a("Security",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"modify"==t.page?a("Modify",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"withdraw"==t.page?a("Withdraw",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"exchange"==t.page?a("Exchange",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"order"==t.page?a("Order",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e(),"paymentRedirect"==t.page?a("PaymentRedirect",{attrs:{user:t.user,app:t.app,type:t.type,product:t.product}}):t._e()],1):t._e()])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar"},[n("img",{attrs:{src:a("db53")}})])}],s=(a("c5f6"),a("5880"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_transfer"},[a("div",{staticClass:"filter"},[a("div",[a("label",[t._v("类型：")]),a("div",{attrs:{id:"type_select"}},[a("el-button",{staticClass:"select_btn",attrs:{size:"mini"}},[t._v("\n                    "+t._s(t.formData.selectType?t.formData.selectType.value:"请选择")+"\n                    "),a("i",{staticClass:"el-icon-arrow-down"})])],1)]),a("div",[a("label",[t._v("日期：")]),a("span",[a("span",{on:{click:function(e){t.calendarIsShow=!0}}},[a("el-button",{staticClass:"select_btn",attrs:{size:"mini"}},[t._v("\n                        "+t._s(t.formData.startDate?t.formData.startDate.format("YYYY-MM-DD"):"开始日期")+"\n                        "),a("i",{staticClass:"el-icon-date"})])],1),t._v("\n                 至\n                "),a("span",{on:{click:function(e){t.calendarIsShow=!0}}},[a("el-button",{staticClass:"select_btn",attrs:{size:"mini"}},[t._v("\n                        "+t._s(t.formData.endDate?t.formData.endDate.format("YYYY-MM-DD"):"结束日期")+"\n                        "),a("i",{staticClass:"el-icon-date"})])],1)])]),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.filterSubmit}},[t._v("筛选")]),t._v("\n             \n            "),a("a",{attrs:{href:"javascript:;"},on:{click:t.clearFilter}},[t._v("清除")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{padding:"0 10px"},attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table",{ref:"table",staticClass:"m_table",attrs:{data:t.tradeList.data,size:"small"},on:{"row-click":t.tableRowClick}},[a("el-table-column",{attrs:{type:"expand",width:"20"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"right","label-width":"75px",size:"small"}},[a("el-form-item",{attrs:{label:"订单号"}},[a("span",[t._v(t._s(e.row.trade_no))])]),a("el-form-item",{attrs:{label:"类型"}},[a("span",[t._v(t._s(e.row.type_text))])]),a("el-form-item",{attrs:{label:"金额"}},[a("span",{class:{color_green:t.isAmountInput(e.row),color_red:!t.isAmountInput(e.row)}},[0==e.row.commission?a("span",[t._v(t._s((t.isAmountInput(e.row)?"+":"-")+"￥"+e.row.amount))]):t._e(),0!=e.row.commission?a("span",[t._v(t._s((t.isAmountInput(e.row)?"+":"-")+"￥"+Number(e.row.amount).toFixed(2))+"(手续费："+t._s(e.row.commission)+")")]):t._e()])]),a("el-form-item",{attrs:{label:"交易相关"}},[a("span",[t._v(t._s(t.getAcoutCodeText(e.row))+t._s(e.row.desc?"，"+e.row.desc:""))])]),e.row.acount&&e.row.acount.acount?a("el-form-item",{attrs:{label:"银行卡号"}},[a("span",[t._v(t._s(e.row.acount.acount))])]):t._e(),e.row.acount&&e.row.acount.name?a("el-form-item",{attrs:{label:"姓名"}},[a("span",[t._v(t._s(e.row.acount.name))])]):t._e(),a("el-form-item",{attrs:{label:"状态"}},[a("el-tag",{attrs:{size:"small",effect:"dark",type:t.getType(e.row.status)}},[t._v(t._s(e.row.status_text))])],1),a("el-form-item",{attrs:{label:"创建日期"}},[a("span",{domProps:{innerHTML:t._s(t.parseTime(e.row.created_at,"{m}-{d} {h}:{i}:{s}"))}})]),a("el-form-item",{attrs:{label:"修改日期"}},[a("span",{domProps:{innerHTML:t._s(t.parseTime(e.row.modify_at,"{m}-{d} {h}:{i}:{s}"))}})])],1)]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{color_green:t.isAmountInput(e.row),color_red:!t.isAmountInput(e.row)}},[a("span",[t._v(t._s((t.isAmountInput(e.row)?"+":"-")+"￥"+Number(e.row.amount).toFixed(2)))])])]}}])}),a("el-table-column",{attrs:{prop:"type_text",label:"类型"}}),a("el-table-column",{attrs:{prop:"status_text",label:"状态",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"small",type:t.getType(e.row.status),effect:"dark"}},[t._v(t._s(e.row.status_text))])]}}])}),a("el-table-column",{attrs:{prop:"modify_at",label:"修改日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(t.parseTime(e.row.modify_at,"{m}-{d} {h}:{i}"))}})]}}])})],1),a("el-pagination",{attrs:{background:"","pager-count":5,layout:"prev, pager, next","page-count":t.tradeList.total_pages},on:{"current-change":t.pageChange}})],1),a("calendar",{ref:"calendar",attrs:{mode:"during",show:t.calendarIsShow},on:{"update:show":function(e){t.calendarIsShow=e},change:t.onCalendarChange}})],1)}),r=[],o=(a("7f7f"),a("ac6a"),a("b775")),l=a("ed08"),c=a("c24f"),u=a("d1bd"),d=a.n(u),p={name:"User-Transfer",props:["type","app","user","product"],components:{},data:function(){return{tradeList:{},datePickerOptions:{shortcuts:l["o"]},loading:!1,calendarIsShow:!1,formData:{selectType:"",page:1,startDate:"",endDate:""},typeOptions:[{id:"0",value:"所有类型"},{id:"1",value:"充值"},{id:"2",value:"提现"},{id:"3",value:"钱包转入"},{id:"4",value:"钱包转出"},{id:"5",value:"系统上分"},{id:"6",value:"系统返水发放"},{id:"7",value:"代理返水发放"},{id:"8",value:"系统减分"},{id:"9",value:"活动赠送"},{id:"18",value:"代理转入"}]}},computed:{filterProduct:function(){var t=this,e=function(e){var a=!1;return t.product.navList.forEach((function(t){t.list&&t.list.forEach((function(n){n.id==e&&"Y"==t.is_show&&(a=!0)}))})),a},a=this.product.list.filter((function(t){return"Y"==t.is_show&&e(t.id)}));return a}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.requestTrade(),new d.a({trigger:"#type_select",title:"类型",wheels:[{data:this.typeOptions}],triggerDisplayData:!1,callback:function(e,a){t.formData.selectType=a[0]}});var e=this.filterProduct.map((function(t){return t.id})).join(",");this.$store.dispatch("productBalance",{product_ids:e})},tableRowClick:function(t){this.$refs.table.toggleRowExpansion(t)},requestTrade:function(){var t=this;if(!this.loading){var e={type:this.formData.selectType.id,page:this.formData.page};this.formData.startDate&&(e.start_at=this.formData.startDate.hour(0).minute(0).second(0).unix()),this.formData.endDate&&(e.end_at=this.formData.endDate.hour(23).minute(59).second(59).unix(),e.start_at&&Number(e.end_at)<Number(e.start_at))?this.$message.error("结束日期不能小于开始日期"):(this.loading=!0,Object(c["o"])(e).then((function(e){t.loading=!1,200==e.code?t.tradeList=e.list:10002==e.code&&(t.tradeList={})})))}},formatAmount:function(t){var e=t.indexOf(".00");return e>-1?t.slice(0,e):t},isAmountInput:function(t){var e=Number(t.type);return[1,3,5,6,7,9,18].indexOf(e)>-1},getType:function(t){var e;return 0==t||1==t?e="warning":2==t?e="success":3==t||4==t?e="danger":5!=t&&6!=t||(e="info"),e},getAcoutCodeText:function(t){return 1==t.type?t.acount.type_text+"充值":2==t.type?"提现至银行卡号："+t.acount.acount:3==t.type?t.product.name+" > 钱包":4==t.type?"钱包 > "+t.product.name:5==t.type?"系统上分"+(t.sub_type_text?"-"+t.sub_type_text:""):6==t.type?"系统返水发放":7==t.type?"代理返水发放":18==t.type?"代理转入":""},filterSubmit:function(){this.requestTrade()},pageChange:function(t){this.formData.page=t,this.requestTrade()},parseTime:function(t,e){return Object(l["n"])(t,e)},onCalendarChange:function(t){this.formData.startDate=t[0],t[1]&&(this.formData.endDate=t[1],this.calendarIsShow=!1)},clearFilter:function(){this.formData.selectProduct="",this.formData.startDate="",this.formData.endDate="",this.$refs.calendar.changeDate([null,null])}}},f=p,m=(a("f446"),a("6499"),a("2877")),h=Object(m["a"])(f,s,r,!1,null,"0da29b8d",null),g=h.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_bank"},[t.user.userInfo.has_draw_passwd?t._e():a("div",{staticClass:"form-group"},[a("p",{staticClass:"form-control-plaintext"},[t._v("\n                为了资金安全，请先设置\n                "),a("span",{staticClass:"ml-1",staticStyle:{"text-decoration":"underline"},on:{click:function(e){return t.pushPath("/user/modify/security_code",{query:{r:"/user/bank"}})}}},[t._v("\n                设置提款密码\n                ")])])]),t.user.userInfo.has_draw_passwd?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t.user.bankcardList.length?a("div",{staticStyle:{padding:"15px 15px 0",color:"#cc5151","font-size":"12px"}},[t._v("如需修改或删除银行卡请联系客服")]):t._e(),t.addBankCardShow?t._e():a("div",{staticClass:"card_wrap"},t._l(t.user.bankcardList,(function(e){return a("div",{key:e.id,staticClass:"bank_section bank_item rounded"},[a("div",[t._v(t._s(e.open_account_bank)+"（"+t._s(e.name)+"）")]),a("div",{staticClass:"number"},[t._v(t._s(e.bank_account))])])})),0),t.addBankCardShow||t.user.bankcardList.length?t._e():a("div",{staticClass:"card_wrap"},[a("a",{staticClass:"add_new bank_section rounded",attrs:{href:"javascript:;"},on:{click:t.bankCreate}},[t._v("\n                绑定银行卡\n            ")])]),t.addBankCardShow?a("div",{staticClass:"new_card"},[a("el-form",{ref:"bankForm",staticClass:"m_form",attrs:{model:t.bankForm,rules:t.formRules,"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{prop:"open_account_bank",label:"开户银行"}},[a("div",{attrs:{id:"open_account_bank_select"}},[t._v(t._s(t.bankForm.open_account_bank?t.bankForm.open_account_bank:"请选择"))])]),a("el-form-item",{attrs:{prop:"areaSelect",label:"开户城市"}},[a("div",{attrs:{id:"area_select"}},[t._v(t._s(2==t.bankForm.areaSelect.length?t.bankForm.areaSelect[0]+"-"+t.bankForm.areaSelect[1]:"请选择"))])]),a("el-form-item",{attrs:{prop:"bank_account",label:"银行卡号"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:t.bankForm.bank_account,callback:function(e){t.$set(t.bankForm,"bank_account",e)},expression:"bankForm.bank_account"}})],1),a("el-form-item",{attrs:{prop:"name",label:"开户姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.bankForm.name,callback:function(e){t.$set(t.bankForm,"name",e)},expression:"bankForm.name"}})],1),a("div",{staticClass:"btn_group"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addBankCardSubmit}},[t._v("提交")])],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{on:{click:function(e){t.addBankCardShow=!1}}},[t._v("取消")])],1)])],1)],1)],1)],1):t._e()]):t._e()])},v=[],b=(a("20d6"),a("28a5"),a("2934")),y=a("7b0a"),w={name:"User-Bank",props:["type","app","user"],components:{},data:function(){var t=function(t,e,a){e&&2==e.length?a():a(new Error("请选择开户城市"))};return{dialogType:"create",bank_list:["工商银行","建设银行","农业银行","民生银行","招商银行","交通银行","中国银行","邮政储蓄","中信银行","兴业银行","华夏银行","浦发银行","广发银行","平安银行","光大银行","农商银行","台州银行"],addBankCardShow:!1,bankForm:{id:"",open_account_bank:"",areaSelect:[],bank_account:"",name:""},formRules:{open_account_bank:[{required:!0,message:"请选择开户银行",trigger:"change"}],areaSelect:[{required:!0,validator:t,trigger:"change"}],bank_account:y["a"],name:y["b"]},areaOptions:[],loading:!1}},computed:{},mounted:function(){this.init()},methods:{init:function(){this.user.bankcardList.length||this.getBankcardList()},getBankcardList:function(){var t=this;if(!this.loading)return this.loading=!0,this.$store.dispatch("bankcardList").then((function(){t.loading=!1}))},addBankCardSubmit:function(){var t=this;this.$refs.bankForm.validate((function(e){if(e){var a={id:t.bankForm.id,name:t.bankForm.name,open_account_bank:t.bankForm.open_account_bank,bank_account:t.bankForm.bank_account,open_account_province:t.bankForm.areaSelect[0]+"-"+t.bankForm.areaSelect[1],open_account_address:"",id_card:""};if(t.loading)return;t.loading=!0,Object(c["a"])(a).then((function(e){t.loading=!1,200==e.code?(t.$message.success("提交成功"),t.getBankcardList(),t.addBankCardShow=!1):t.$message.error(e.info)}))}}))},bankCreate:function(){this.bankForm={id:"",open_account_bank:"",areaSelect:[],bank_account:"",name:""},this.dialogType="create",this.addBankCardShow=!0,this.$nextTick(this.initArea)},bankEdit:function(t){this.$alert("如需修改或删除银行卡请联系客服","",{confirmButtonText:"确定",callback:function(t){}})},bankDel:function(t){this.$alert("如需修改或删除银行卡请联系客服","",{confirmButtonText:"确定",callback:function(t){}})},initArea:function(){var t=this;0==this.areaOptions.length?Object(b["a"])().then((function(e){if(200==e.code){var a=e.list;a.forEach((function(t){t.id=t.value=t.label=t.name,t.childs=t.cities,t.childs.forEach((function(t){t.id=t.value=t.label=t.name}))})),t.areaOptions=a,t.$nextTick((function(){t.initSelect()}))}else t.$message.error(e.info)})):this.$nextTick((function(){t.initSelect()}))},initSelect:function(){var t=this,e=this.bank_list.findIndex((function(e){return e==t.bankForm.open_account_bank}));e=-1==e?0:e,new d.a({trigger:"#open_account_bank_select",title:"选择开户行",wheels:[{data:this.bank_list.map((function(t){return{id:t,value:t}}))}],position:[e],callback:function(e,a){var n=e[0];t.bankForm.open_account_bank=t.bank_list[n]}});var a=[0];if(2==this.bankForm.areaSelect.length){var n=this.areaOptions.findIndex((function(e){return e.name==t.bankForm.areaSelect[0]})),i=this.areaOptions[n].childs.findIndex((function(e){return e.name==t.bankForm.areaSelect[1]}));a=[n,i]}new d.a({trigger:"#area_select",title:"选择开户城市",wheels:[{data:this.areaOptions}],position:a,callback:function(e,a){t.bankForm.areaSelect=[t.areaOptions[e[0]].name,t.areaOptions[e[0]].childs[e[1]].name]}})},pushPath:function(t,e){this.$router.push({path:t},e)}}},k=w,C=(a("3c9d"),Object(m["a"])(k,_,v,!1,null,"afb6e2d8",null)),D=C.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_security"},[a("el-card",{staticClass:"card",attrs:{shadow:"never"}},[a("h3",{staticClass:"h3"},[t._v("登录密码")]),a("p",[t._v("\n            建议您使用字母和数字的组合、混合大小写、在组合中加入下划线等符号。\n        ")]),a("div",[a("span",{on:{click:function(e){return t.pushPath("/user/modify/password")}}},[a("el-button",{attrs:{type:"primary"}},[t._v("修改密码")])],1)])]),a("el-card",{staticClass:"card",attrs:{shadow:"never"}},[a("h3",{staticClass:"h3",class:t.user.userInfo.has_draw_passwd?"":"hl"},[t._v("\n            "+t._s(t.user.userInfo.has_draw_passwd?"":"未设置")+"提款密码\n        ")]),a("p",[t._v("\n            提款密码用于提现、绑定银行卡等操作，可保障资金安全。\n        ")]),a("div",[t.user.userInfo.has_draw_passwd?a("span",[a("span",{staticClass:"btn btn-info",on:{click:function(e){return t.pushPath("/user/modify/security_code")}}},[a("el-button",{attrs:{type:"primary"}},[t._v("修改提款密码")])],1),t._v("  \n                "),a("span",{staticClass:"btn btn-info",on:{click:function(e){return t.pushPath("/help")}}},[a("el-button",{attrs:{type:"primary"}},[t._v("找回提款密码")])],1)]):t._e(),t.user.userInfo.has_draw_passwd?t._e():a("span",[a("span",{staticClass:"btn btn-info",on:{click:function(e){return t.pushPath("/user/modify/security_code")}}},[a("el-button",{attrs:{type:"primary"}},[t._v("设置提款密码")])],1)])])]),a("el-card",{staticClass:"card",attrs:{shadow:"never"}},[a("h3",{staticClass:"h3",class:t.user.userInfo.mobile_phone?"":"hl"},[t._v("\n            "+t._s(t.user.userInfo.mobile_phone?"":"未绑定")+"密保手机号\n        ")]),a("p",[t._v("\n            密保手机可以增加账户安全性，快速找回帐号密码。\n        ")]),a("div",[a("span",{staticClass:"btn btn-info",on:{click:function(e){return t.pushPath("/user/modify/phone")}}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n                    "+t._s(t.user.userInfo.mobile_phone?"修改":"绑定")+"手机号\n                ")])],1)])]),a("el-card",{staticClass:"card",attrs:{shadow:"never"}},[a("h3",{staticClass:"h3",class:t.user.userInfo.email?"":"hl"},[t._v("\n            "+t._s(t.user.userInfo.email?"":"未绑定")+"密保邮箱\n        ")]),a("p",[t._v("\n            绑定邮箱可以增加账户安全性，快速找回帐号密码。\n        ")]),a("div",[a("span",{staticClass:"btn btn-info",on:{click:function(e){return t.pushPath("/user/modify/email")}}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n                    "+t._s(t.user.userInfo.email?"修改":"绑定")+"邮箱\n                ")])],1)])])],1)},S=[],L={name:"User-Security",props:["type","app","user"],components:{},data:function(){return{}},computed:{},mounted:function(){this.init()},methods:{init:function(){},pushPath:function(t,e){this.$router.push({path:t},e)}}},P=L,I=(a("e734"),Object(m["a"])(P,x,S,!1,null,"3b1c1083",null)),T=I.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_modify"},[a("el-form",{ref:"form",staticClass:"m_form",attrs:{model:t.formData,rules:t.formRules,"label-width":t.labelWidth,"label-position":"right"}},["password"==t.type?a("div",[a("el-form-item",{attrs:{prop:"oldPassword",label:"旧密码："}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧密码"},model:{value:t.formData.oldPassword,callback:function(e){t.$set(t.formData,"oldPassword",e)},expression:"formData.oldPassword"}})],1),a("el-form-item",{attrs:{prop:"password",label:"新密码："}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{prop:"rePassword",label:"确认新密码："}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入新密码"},model:{value:t.formData.rePassword,callback:function(e){t.$set(t.formData,"rePassword",e)},expression:"formData.rePassword"}})],1)],1):t._e(),"security_code"==t.type?a("div",[t.user.userInfo.has_draw_passwd?a("el-form-item",{attrs:{prop:"oldSecurityCode",label:"旧提款密码："}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧6位提款密码"},model:{value:t.formData.oldSecurityCode,callback:function(e){t.$set(t.formData,"oldSecurityCode",e)},expression:"formData.oldSecurityCode"}})],1):t._e(),a("el-form-item",{attrs:{prop:"securityCode",label:(t.user.userInfo.has_draw_passwd?"新":"")+"提款密码："}},[a("el-input",{attrs:{type:"password",placeholder:"请输入"+(t.user.userInfo.has_draw_passwd?"新":"")+"6位提款密码"},model:{value:t.formData.securityCode,callback:function(e){t.$set(t.formData,"securityCode",e)},expression:"formData.securityCode"}})],1),a("el-form-item",{attrs:{prop:"reSecurityCode",label:"确认"+(t.user.userInfo.has_draw_passwd?"新":"")+"提款密码："}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入"+(t.user.userInfo.has_draw_passwd?"新":"")+"6位提款密码"},model:{value:t.formData.reSecurityCode,callback:function(e){t.$set(t.formData,"reSecurityCode",e)},expression:"formData.reSecurityCode"}})],1)],1):t._e(),"find_security_code"==t.type?a("div",[t.hasPhoneOrEmail?t._e():a("div",{staticClass:"find_text"},[a("p",{staticClass:"form-control-plaintext"},[t._v("\n                    绑定邮箱或手机号后才能找回提款密码。 \n                ")]),a("el-button",{attrs:{type:"primary"}},[a("span",{on:{click:function(e){return t.pushPath("/user/modify/phone")}}},[t._v("绑定手机号")]),t._v(" \n                ")]),a("el-button",{attrs:{type:"primary"}},[a("span",{on:{click:function(e){return t.pushPath("/user/modify/email")}}},[t._v("绑定邮箱")])]),a("el-button",{on:{click:t.back}},[t._v("取消")])],1),t.hasPhoneOrEmail?a("el-tabs",{staticStyle:{padding:"0 15px"},attrs:{value:"phone"}},[t.user.userInfo.mobile_phone?a("el-tab-pane",{attrs:{label:"通过手机号找回",name:"phone"}},[a("el-form-item",{attrs:{prop:"phoneCode",label:"输入手机验证码"}},[a("el-input",{attrs:{placeholder:"请输入手机验证码"},model:{value:t.formData.phoneCode,callback:function(e){t.$set(t.formData,"phoneCode",t._n(e))},expression:"formData.phoneCode"}})],1)],1):t._e(),t.user.userInfo.email?a("el-tab-pane",{attrs:{label:"通过邮箱找回",name:"email"}},[a("el-form-item",{attrs:{prop:"emailCode",label:"输入邮箱验证码"}},[a("el-input",{attrs:{placeholder:"请输入邮箱验证码"},model:{value:t.formData.emailCode,callback:function(e){t.$set(t.formData,"emailCode",t._n(e))},expression:"formData.emailCode"}})],1)],1):t._e()],1):t._e()],1):t._e(),"phone"==t.type?a("div",[a("el-form-item",{attrs:{prop:"phone",label:(t.hasPhone?"新":"绑定")+"手机号："}},[a("el-input",{attrs:{placeholder:"请输入"+(t.hasPhone?"新":"")+"手机号"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1):t._e(),"email"==t.type?a("div",[a("el-form-item",{attrs:{prop:"email",label:(t.hasEmail?"新":"绑定")+"邮箱："}},[a("el-input",{attrs:{placeholder:"请输入"+(t.hasEmail?"新":"")+"邮箱"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1):t._e(),t.showSubmitBtn?a("div",{staticClass:"btn_group"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.modify}},[t._v("提交")])],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{on:{click:function(e){return t.back()}}},[t._v("取消")])],1)])],1)],1):t._e()])],1)},M=[],E={name:"User-Modify",props:["type","app","user"],components:{},data:function(){return{formData:{oldPassword:"",password:"",rePassword:"",oldSecurityCode:"",securityCode:"",reSecurityCode:"",phone:"",phoneCode:"",email:"",emailCode:""},formRules:{oldPassword:y["g"],password:y["g"],rePassword:y["g"],oldSecurityCode:y["d"],securityCode:y["d"],reSecurityCode:y["d"],phone:y["i"],phoneCode:y["h"],email:y["f"],emailCode:y["e"]},loading:!1}},computed:{hasPhoneOrEmail:function(){return this.user.userInfo.mobile_phone||this.user.userInfo.email},hasPhone:function(){return this.user.userInfo.mobile_phone},hasEmail:function(){return this.user.userInfo.email},showSubmitBtn:function(){return!("find_security_code"==this.type&&!this.hasPhoneOrEmail)},labelWidth:function(){var t=110;return"security_code"!=this.type&&"find_security_code"!=this.type||(t=140),t+"px"}},mounted:function(){},methods:{modify:function(){var t=this,e={},a=this.formData,n=this.type,i=decodeURIComponent(this.$route.query.r||"");this.$refs.form.validate((function(s){if(s){switch(n){case"security_code":if(a.securityCode!=a.reSecurityCode)return void t.$message.error("提款码不一致");if(t.user.userInfo.has_draw_passwd){if(a.oldSecurityCode==a.securityCode)return void t.$message.error("不能与原提款码一致");e.old_draw_passwd=a.oldSecurityCode,e.draw_passwd=a.securityCode}else e.key="draw_passwd",e.val=a.securityCode;break;case"password":if(a.password!=a.rePassword)return void t.$message.error("密码不一致");if(a.oldPassword==a.password)return void t.$message.error("不能与原密码一致");e.old_password=a.oldPassword,e.password=a.password;break;case"phone":e.key="mobile_phone",e.val=a.phone;break;case"email":e.key="email",e.val=a.email;break}if(e.type=n,t.loading)return;t.loading=!0,Object(c["j"])(e).then((function(e){if(t.loading=!1,200==e.code){if(t.$message.success("提交成功"),t.$store.dispatch("getUserInfo"),t.app.isApp)return void t.$store.dispatch("postMsgToApp",{action:"goBack-reload"});t.$router.push({path:i||"/user/security"})}else t.$message.error(e.info)}))}}))},back:function(t){this.app.isApp?this.$store.dispatch("postMsgToApp",{action:"goBack"}):this.$router.push({path:t||"/user/security"})},pushPath:function(t,e){this.$router.push({path:t},e)}}},A=E,B=(a("6bea"),Object(m["a"])(A,$,M,!1,null,"772053be",null)),Y=B.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_withdraw"},[t.user.userInfo.has_draw_passwd?t.tradeLoading?t._e():a("div",[t.highoddsInfo?a("div",{staticStyle:{"padding-bottom":"10px",color:"#ea3535","font-size":"16px"},domProps:{innerHTML:t._s(t.highoddsInfo)}}):t._e(),t.hasTradeList?a("div",{staticStyle:{padding:"15px 15px"}},[t._v("\n            您有待处理中的取款，请耐心等待客服审核，前往查看 "),a("router-link",{staticStyle:{color:"#03A9F4"},attrs:{to:"/user/transfer"}},[t._v("资金列表")])],1):a("div",[a("el-form",{ref:"form",staticClass:"m_form",attrs:{model:t.formData,rules:t.formRules,"label-width":"100px","label-position":"right"}},[a("el-form-item",{staticClass:"low",attrs:{label:"钱包余额："}},[a("span",{staticClass:"common_money"},[t._v("\n                        ￥"+t._s(t.user.userInfo.total_money)+"\n                    ")]),a("router-link",{staticClass:"exchange_btn",attrs:{to:"/user/exchange"}},[t._v("资金回收")])],1),a("el-form-item",{attrs:{label:"提款金额：",prop:"amount"}},[a("el-input",{ref:"amount",attrs:{placeholder:"请输入提款金额，最低提现100元"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",t._n(e))},expression:"formData.amount"}})],1),a("el-form-item",{staticClass:"low",attrs:{label:"提款银行卡："}},[a("div",[t.user.bankcardList.length?a("div",{staticClass:"bank_select"},[a("span",{attrs:{id:"bank_select_wrap"}},[t._v(t._s(t.formData.bank?t.formData.bank.open_account_bank+", "+t.formData.bank.bank_account+", "+t.formData.bank.name:"选择提现银行卡"))])]):t._e(),t.user.bankcardList.length?t._e():a("span",{on:{click:function(e){return t.pushPath("/user/bank")}}},[t._v("请先绑定银行卡")])])]),a("div",{staticClass:"btn_group"},[a("el-button",{staticClass:"sub_btn",attrs:{type:"primary",loading:t.loading},on:{click:t.checkInfo}},[t._v("提交")])],1)],1)],1),a("el-dialog",{staticClass:"check_dialog",attrs:{title:"提示",visible:t.checkDialogVisible,width:"95%"},on:{"update:visible":function(e){t.checkDialogVisible=e}}},[a("h3",[a("i",{staticClass:"el-icon-warning"}),t._v("\n                您的流水未到达提款要求，如需提款请联系客服\n                ")]),a("el-table",{staticClass:"m_table",staticStyle:{width:"100%"},attrs:{data:t.checkList.items,size:"small"}},[a("el-table-column",{attrs:{prop:"created_at",label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.formatTime(e.row.created_at))+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.checkType[e.row.type])+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"recharge_price",label:"金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        ￥"+t._s(e.row.recharge_price)+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"recharge_price",label:"存款稽核点"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.stream_price)+" / "+t._s(e.row.recharge_price*e.row.check)+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"is_ok",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"Y"==e.row.is_ok?"success":"danger"}},[t._v("\n                            "+t._s("Y"==e.row.is_ok?"满足":"未满足")+"\n                        ")])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.checkDialogVisible=!1}}},[t._v("取 消")])],1)],1)],1):a("div",{staticClass:"form-group",staticStyle:{padding:"10px 0","text-align":"center"}},[a("p",{staticClass:"form-control-plaintext"},[t._v("\n                为了资金安全，请先设置\n                "),a("span",{staticClass:"ml-1",staticStyle:{"text-decoration":"underline"},on:{click:function(e){return t.pushPath("/user/modify/security_code",{query:{r:"/user/bank"}})}}},[t._v("\n                设置提款密码\n                ")])])])])},F=[],H=100,j={name:"User-Withdraw",props:["type","app","user"],components:{},data:function(){return{formData:{bank:null,amount:""},formRules:{amount:[{required:!0,message:"金额不能为空",trigger:"blur"},{type:"number",message:"金额必须为数字",trigger:"blur"},{type:"number",min:100,message:"最低提现"+H+"元",trigger:"blur"},{type:"number",max:Number(this.user.userInfo.total_money),message:"不能超过您的钱包余额",trigger:"blur"}]},loading:!1,checkDrawLoading:!1,checkList:{},checkDialogVisible:!1,highoddsInfo:"",checkType:{recharge:"充值",stream:"返水",activity:"活动",highodds:"高赔率活动稽核"},tradeLoading:!0,hasTradeList:!1}},computed:{},mounted:function(){this.$refs.amount&&this.$refs.amount.$el.focus(),this.init()},methods:{init:function(){var t=this;this.user.bankcardList.length?(this.formData.bank=this.user.bankcardList[0],this.initBankSelect()):this.$store.dispatch("bankcardList").then((function(){t.user.bankcardList.length&&t.$nextTick((function(){t.initBankSelect()}))})),this.checkTrade()},checkTrade:function(){var t=this,e={type:2,page:1,count:1,status:0};this.tradeLoading=!0,Object(c["o"])(e).then((function(e){t.tradeLoading=!1,200==e.code&&(t.hasTradeList=!!e.list.data.length)}))},initBankSelect:function(){var t=[];this.user.bankcardList.forEach((function(e){t.push({id:e.bank_account,value:e.open_account_bank+", "+e.bank_account+", "+e.name})})),this.formData.bank=this.user.bankcardList[0]},showCheckDrawPassword:function(){var t=this;this.$refs.form.validate((function(e){if(e){if(t.checkDrawLoading)return;t.$prompt("请输入6位提款密码","提示",{confirmButtonText:"确定",inputType:"password",cancelButtonText:"取消",inputPattern:/[0-9]{6}/,inputErrorMessage:"提款密码格式不正确",customClass:"draw_password_message_box",beforeClose:function(e,a,n){if("confirm"===e){a.confirmButtonLoading=!0,a.confirmButtonText="提交中...",t.checkDrawLoading=!0;var i=a.$refs.input.value;t.submitForm(i,(function(){n()}),(function(){a.confirmButtonLoading=!1,a.confirmButtonText="提交"}))}else n()}}).then((function(t){t.value})).catch((function(){}))}}))},checkInfo:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.loading=!0,Object(c["c"])().then((function(e){t.loading=!1,200==e.code?e.list.items.length>0?(t.checkList=e.list,t.checkDialogVisible=!0):t.showCheckDrawPassword():t.$message.error(e.info)})))}))},submitForm:function(t,e,a){var n=this;this.loading||this.$refs.form.validate((function(i){if(i){var s={bankcard_id:n.formData.bank.id,amount:n.formData.amount,draw_passwd:t};if(s.amount>n.user.userInfo.total_money)return void n.$message.error("不能超过您的总额");n.loading=!0,Object(c["r"])(s).then((function(t){n.loading=!1,200==t.code?(e&&e(),n.$message.success("订单提交成功，请等待客服审核"),n.pushPath("/user/transfer")):(a&&a(),n.$message.error(t.info))}))}}))},formatTime:function(t){return Object(l["c"])(t)},pushPath:function(t,e){e=e||{},e.path=t,this.$router.push(e)}}},q=j,N=(a("6450"),a("1097"),Object(m["a"])(q,O,F,!1,null,"662d1f8c",null)),R=N.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_exchange"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"table_wrap",attrs:{data:[t.totalMoney,t.userMoney].concat(t.filterProduct),"show-header":!1,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{label:"名称",width:"105"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:"Y"==e.row.is_fix?"fixed":""},[e.row.id>0&&e.row.icon?a("img",{attrs:{src:t._f("imgFormatter")(e.row.icon),height:"12"}}):t._e(),t._v("\n                    "+t._s(e.row.name)+"\n                ")])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.id||-1==e.row.id||"N"==e.row.is_fix?a("div",[e.row.id>0?a("div",{staticClass:"handle_row"},["N"==e.row.is_fix?a("a",{staticClass:"product_reload reload",attrs:{href:"javascript:;"},on:{click:function(a){return t.productReload(e.row.id)}}},[a("i",{staticClass:"el-icon-refresh"})]):t._e(),a("span",{staticClass:"money"},[t._v("￥"+t._s(t.getMoney(e.row.id)))]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.openForm(e.row.id,2)}}},[t._v("转入")]),a("el-button",{attrs:{type:"text",loading:t.btnLoading[e.row.id]},on:{click:function(a){return t.openForm(e.row.id,3)}}},[t._v("全部回收")])],1):t._e(),0==e.row.id?a("div",{staticClass:"handle_row"},[a("span",{staticClass:"money"},[t._v("￥"+t._s(t.getMoney(e.row.id)))]),a("el-button",{attrs:{type:"text",loading:t.btnLoading[e.row.id]},on:{click:function(a){return t.openForm(e.row.id,3)}}},[t._v("一键全部回收")])],1):t._e(),-1==e.row.id?a("div",{staticClass:"handle_row"},[a("span",{staticClass:"money"},[t._v("￥"+t._s(t.getTotalMoney()))])]):t._e()]):t._e(),"Y"==e.row.is_fix?a("div",[a("div",{staticClass:"handle_row",class:"Y"==e.row.is_fix?"fixed":"",staticStyle:{"padding-right":"10px"}},[a("span",{staticClass:"money"},[t._v("￥"+t._s(t.getMoney(e.row.id)))]),t._v("\n                        接口维护中\n                    ")])]):t._e()]}}])})],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"90%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("p",[a("span",{domProps:{innerHTML:t._s(t.fromText)}}),a("i",{staticClass:"fas fa-long-arrow-alt-right",staticStyle:{margin:"0 1rem"}}),a("span",{domProps:{innerHTML:t._s(t.toText)}})]),a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.formRules,"label-position":"top","label-width":"80px"}},[0==t.getMoney(2==t.formData.type?0:t.formData.product_id)?a("span",[t._v("余额不足，无法进行操作")]):t._e(),t.getMoney(2==t.formData.type?0:t.formData.product_id)>0?a("el-form-item",{attrs:{label:"转"+(2==t.formData.type?"入":"出")+"金额",prop:"amount"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入金额"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}})],1):t._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t.getMoney(2==t.formData.type?0:t.formData.product_id)>0?a("el-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.submitForm}},[t._v("确定")]):t._e()],1)],1)],1)},J=[],V=2e3,W={name:"User-Exchange",props:["type","user","product"],components:{},data:function(){var t=function(t,e,a){""==e?a(new Error("金额不能为空")):isNaN(parseFloat(e))?a(new Error("金额必须为数字")):parseFloat(e)<1?a(new Error("最少转入1元")):a()};return{totalMoney:{id:-1,name:"总资产"},userMoney:{id:0,name:"账户余额",icon:""},pageLoading:!1,submitLoading:!1,btnLoading:{},dialogVisible:!1,fromText:"",toText:"",formData:{type:0,amount:"",product_id:0},formRules:{amount:[{require:!0,validator:t,trigger:"blur"}]}}},computed:{filterProduct:function(){var t=this,e=function(e){var a=!1;return t.product.navList.forEach((function(t){t.list&&t.list.forEach((function(n){n.id==e&&"Y"==t.is_show&&(a=!0)}))})),a},a=this.product.list.filter((function(t){return"Y"==t.is_show&&e(t.id)}));return a}},mounted:function(){this.init()},methods:{init:function(){this.reload()},reload:function(){var t=this;if(!this.pageLoading){this.pageLoading=!0;var e=this.filterProduct.map((function(t){return t.id})).join(",");this.$store.dispatch("productBalance",{product_ids:e}).then((function(){setTimeout((function(){t.pageLoading=!1}),500)}))}},productReload:function(t){var e=this;this.pageLoading||(this.pageLoading=!0,this.$store.dispatch("productBalanceSync",{product_ids:t}).then((function(t){e.pageLoading=!1,200==t.code?(e.$message.success("操作成功，同步余额已受理，请稍后查看金额"),setTimeout((function(){e.reload()}),1500)):e.$message.error(t.info)})))},getMoney:function(t){var e=0;if(0==t)e=this.user.userInfo.total_money;else for(var a in this.product.balance)a==t&&(e=this.product.balance[a].money);return Number(e).toFixed(2)},getTotalMoney:function(){var t=Number(this.user.userInfo.total_money);for(var e in this.product.balance)0!==Number(e)&&(t+=Number(this.product.balance[e].money));return t.toFixed(2)},submitForm:function(){var t=this;this.submitLoading||this.$refs.form.validate((function(e){if(e){var a=Object.assign({},t.formData);a.amount=Number(a.amount);var n=2==a.type?t.getMoney(0):t.getMoney(a.product_id);if(a.amount>n)return void t.$message.error("余额不足");t.submitLoading=!0,Object(c["p"])(a).then((function(e){t.submitLoading=!1,200==e.code?(t.$message({message:"操作成功，转账已受理，请稍后查看金额",type:"success",customClass:"long",duration:3e3,center:!0}),setTimeout((function(){t.reload(),setTimeout((function(){t.reload()}),V)}),V),t.dialogVisible=!1):t.$message.error(e.info)}))}}))},openForm:function(t,e){var a=this;if(this.formData.type=e,this.formData.product_id=t,this.formData.amount="",3==e){if(this.btnLoading[t])return;var n={type:e,product_id:t||this.filterProduct.map((function(t){return t.id})).join(",")};return this.$set(this.btnLoading,t,!0),void Object(c["p"])(n).then((function(e){a.$set(a.btnLoading,t,!1),200==e.code?(a.$message({message:"操作成功，转账已受理，请稍后查看金额",type:"success",customClass:"long",duration:3e3,center:!0}),setTimeout((function(){a.reload(),setTimeout((function(){a.reload()}),V)}),V)):a.$message.error(e.info)}))}var i=this.filterProduct.filter((function(e){return e.id==t}));if(i.length){i=i[0];var s=i.name+' <span class="money">￥'+this.getMoney(t)+"</span>",r='钱包余额 <span class="money">￥'+this.getMoney(0)+"</span>";2==e?(this.toText=s,this.fromText=r):(this.fromText=s,this.toText=r),this.dialogVisible=!0}}}},U=W,G=(a("94a0"),Object(m["a"])(U,z,J,!1,null,null,null)),K=G.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_order"},[a("div",{staticClass:"filter"},[a("div",[a("label",[t._v("游戏类型：")]),a("div",{attrs:{id:"type_select"}},[a("el-button",{staticClass:"select_btn",attrs:{size:"mini"}},[t._v("\n                    "+t._s(t.formData.selectProduct?t.formData.selectProduct.value:"选择游戏")+"\n                    "),a("i",{staticClass:"el-icon-arrow-down"})])],1)]),a("div",[a("label",[t._v("日期：")]),a("span",[a("span",{on:{click:function(e){t.calendarIsShow=!0}}},[a("el-button",{staticClass:"select_btn",attrs:{size:"mini"}},[t._v("\n                        "+t._s(t.formData.startDate?t.formData.startDate.format("YYYY-MM-DD"):"开始日期")+"\n                        "),a("i",{staticClass:"el-icon-date"})])],1),t._v("\n                 至\n                "),a("span",{on:{click:function(e){t.calendarIsShow=!0}}},[a("el-button",{staticClass:"select_btn",attrs:{size:"mini"}},[t._v("\n                        "+t._s(t.formData.endDate?t.formData.endDate.format("YYYY-MM-DD"):"结束日期")+"\n                        "),a("i",{staticClass:"el-icon-date"})])],1)])]),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.filterSubmit}},[t._v("筛选")]),t._v("\n             \n            "),a("a",{attrs:{href:"javascript:;"},on:{click:t.clearFilter}},[t._v("清除")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table",{ref:"table",staticClass:"m_table",staticStyle:{width:"100%"},attrs:{data:t.list.items,size:"mini"},on:{"row-click":t.tableRowClick,"expand-change":t.expandChange}},[a("el-table-column",{attrs:{type:"expand",width:"20"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.detailLoading[e.row.id]?a("div",[a("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[a("i",{staticClass:"el-icon-loading"}),t._v(" 详情加载中\n                        ")])]):t._e(),!t.detailLoading[e.row.id]&&e.row.detail?a("GameDetail",{attrs:{data:e.row,detail:e.row.detail,statusText:t.statusOptions[e.row.status]}}):t._e()]}}])}),a("el-table-column",{attrs:{label:"游戏"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.product_name))]),a("div",[t._v(t._s(e.row.game_name))])]}}])}),a("el-table-column",{attrs:{label:"有效投注"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s("￥"+e.row.vaild_cathectic_total_price)+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"损益"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(3==e.row.status?"￥"+e.row.balance_total_price:"-")+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"small",effect:"dark",type:t.statusClassOptions[e.row.status]}},[t._v(t._s(t.statusOptions[e.row.status]))])]}}])}),a("el-table-column",{attrs:{label:"时间",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{domProps:{innerHTML:t._s(t.formatTime(e.row.begintime))}})]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","pager-count":5,"page-count":t.list.total_pages},on:{"current-change":t.pageChange}})],1),t.totalData?a("div",{staticClass:"total_data",style:{bottom:(t.app.isApp?0:50)+"px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n                    投注额：￥"+t._s(t.totalData.cathectic_total_price)+"\n                ")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n                    有效投注额：￥"+t._s(t.totalData.vaild_cathectic_total_price)+"\n                ")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n                    派彩：￥"+t._s(t.totalData.winning_total_price)+"\n                ")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n                    笔数："+t._s(t.totalData.total_order)+"\n                ")])])],1)],1):t._e(),a("calendar",{ref:"calendar",attrs:{mode:"during",show:t.calendarIsShow},on:{"update:show":function(e){t.calendarIsShow=e},change:t.onCalendarChange}})],1)},Q=[];a("a481");function X(t){return o["a"].get("/order/index",t)}function tt(t){return o["a"].get("/order/detail",{order_sn:t})}var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"game_detail"},[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"top","label-width":"75px"}},[a("el-form-item",{attrs:{label:"投注额"}},[a("div",[t._v("￥"+t._s(t.data.cathectic_total_price))])]),a("el-form-item",{attrs:{label:"有效投注额"}},[a("div",[t._v("￥"+t._s(t.data.vaild_cathectic_total_price))])]),a("el-form-item",{attrs:{label:"派彩"}},[a("div",[t._v("\n                "+t._s(3==t.data.status?"￥"+t.data.winning_total_price:"-")+"\n            ")])]),a("el-form-item",{attrs:{label:"损益"}},[a("div",[t._v("\n                "+t._s(3==t.data.status?"￥"+t.data.balance_total_price:"-")+"\n            ")])]),a("el-form-item",{attrs:{label:"投注时间"}},[a("div",[t._v("\n                "+t._s(t._f("parseTime")(t.data.begintime,"{y}/{m}/{d} {h}:{i}:{s}"))+"\n            ")])]),a("el-form-item",{attrs:{label:"派彩时间"}},[3==t.data.status?a("div",[t._v("\n                "+t._s(t._f("parseTime")(t.data.endtime,"{y}/{m}/{d} {h}:{i}:{s}"))+"\n            ")]):t._e()]),t.detail.game_detail.betResult?a("el-form-item",{attrs:{label:"注单结果"}},[a("div",[t._v(t._s(t.detail.game_detail.betResult))])]):t._e(),t.detail.number?a("el-form-item",{attrs:{label:"注单期号"}},[a("div",[t._v(t._s(t.detail.number))])]):t._e(),t.detail.game_detail.number?a("el-form-item",{attrs:{label:"注单期号"}},[a("div",[t._v(t._s(t.detail.game_detail.number))])]):t._e(),t.detail.game_detail.betContent?a("el-form-item",{attrs:{label:"注单内容"}},[t.detail.game_detail.betContent instanceof Array?t._e():a("div",[t._v("\n                "+t._s(t.detail.game_detail.betContent)+"\n            ")]),t.detail.game_detail.betContent instanceof Array&&t.detail.game_detail.betContent.length?a("div",[9==t.data.product_id?a("div",[t._v(t._s("PAR"==t.detail.game_detail.game?"过关":"泰式过关")+"：")]):t._e(),t._l(t.detail.game_detail.betContent,(function(e,n){return a("div",{key:n},[t.detail.game_detail.betContent.length>1?a("div",[t._v(t._s(n+1)+"）")]):t._e(),e instanceof Array?t._l(e,(function(e,n){return a("div",{key:n},[t._v(t._s(e))])})):a("div",[t._v(t._s(e))])],2)}))],2):t._e()]):t._e(),t.detail.game_detail.betOdds?a("el-form-item",{attrs:{label:"注单赔率"}},[a("div",[t._v(t._s(t.detail.game_detail.betOdds))])]):t._e(),t.detail.game_detail.awardContent?a("el-form-item",{attrs:{label:"开奖内容"}},[a("div",[t._v(t._s(t.detail.game_detail.awardContent))])]):t._e(),t.detail.game_detail.gameContent?a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"比赛信息"}},[t.detail.game_detail.gameContent instanceof Array?t._e():a("div",{staticClass:"sport"},[t.detail.game_detail.gameContent.leaguename?a("p",{staticClass:"leaguename"},[t._v("赛事："+t._s(t.detail.game_detail.gameContent.leaguename))]):t._e(),t.detail.game_detail.gameContent.match?a("p",{staticClass:"match"},[t._v("队伍："+t._s(t.detail.game_detail.gameContent.match))]):t._e(),t.detail.game_detail.gameContent.matchdatetime?a("p",{staticClass:"matchdatetime"},[t._v("时间："+t._s(t.detail.game_detail.gameContent.matchdatetime))]):t._e()]),t.detail.game_detail.gameContent instanceof Array&&t.detail.game_detail.gameContent.length?a("div",t._l(t.detail.game_detail.gameContent,(function(e,n){return a("div",{key:n,staticClass:"sport multi"},[t.detail.game_detail.gameContent.length>1?a("p",{},[t._v(t._s(n+1)+"）")]):t._e(),e.leaguename?a("p",{staticClass:"leaguename"},[t._v("赛事："+t._s(e.leaguename))]):t._e(),e.match?a("p",{staticClass:"match"},[t._v("队伍："+t._s(e.match))]):t._e(),e.matchdatetime?a("p",{staticClass:"matchdatetime"},[t._v("时间："+t._s(e.matchdatetime))]):t._e()])})),0):t._e()]):t._e(),t.detail.game_detail.cardContent?a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"牌型"}},[a("div",{staticClass:"em_wrap"},[a("label",[t._v("\n                    自己：\n                ")]),t._l(t.detail.game_detail.cardContent,(function(e){return a("em",{key:e,staticClass:"gr",class:t.getPokerClass(e)})}))],2)]):t._e(),t.detail.game_detail.customizeKey?t._l(t.detail.game_detail.customizeKey,(function(e,n){return a("el-form-item",{key:n,attrs:{label:e.label}},[a("div",[t._v(t._s(e.value))])])})):t._e()],2)],1)},at=[],nt={name:"Game-Detail",props:["detail","statusText","data"],components:{},data:function(){return{}},computed:{},mounted:function(){this.init()},methods:{init:function(){},getPokerClass:function(t){t=t.split("_");var e={0:"heart",1:"spade",2:"diamond",3:"club"};return"gr-"+e[t[0]]+"-"+(t[1]?t[1].toLocaleLowerCase():"")}}},it=nt,st=(a("b85e"),a("3ab8"),Object(m["a"])(it,et,at,!1,null,"03caf040",null)),rt=st.exports,ot={name:"User-Order",props:["type","user","product","app"],components:{GameDetail:rt},data:function(){return{list:{},totalData:null,datePickerOptions:{shortcuts:l["o"]},loading:!1,detailLoading:{},formData:{selectProduct:"",page:1,startDate:"",endDate:""},calendarIsShow:!1,statusOptions:{1:"已创建",2:"已支付",3:"已完成",4:"取消"},statusClassOptions:{1:"warning",2:"info",3:"success",4:"info"}}},computed:{productListFilter:function(){var t=[];return this.product.navList.forEach((function(e){"Y"==e.is_show&&e.list&&e.list.length&&(t=t.concat(e.list.filter((function(t){return"Y"==t.is_show}))))})),t}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.requestList(),new d.a({trigger:"#type_select",title:"游戏类型",wheels:[{data:this.productListFilter.map((function(t){return{id:t.id,value:t.name}}))}],triggerDisplayData:!1,callback:function(e,a){t.formData.selectProduct=a[0]}})},requestList:function(){var t=this;if(!this.loading){var e={product_id:this.formData.selectProduct.id,page:this.formData.page};this.formData.startDate&&(e.starttime=this.formData.startDate.hour(0).minute(0).second(0).unix()),this.formData.endDate&&(e.endtime=this.formData.endDate.hour(23).minute(59).second(59).unix(),e.starttime&&Number(e.endtime)<Number(e.starttime))?this.$message.error("结束日期不能小于开始日期"):(this.loading=!0,X(e).then((function(e){t.loading=!1,200==e.code?(t.list=e.list,e.list.totalData&&(t.totalData=e.list.totalData)):10002==e.code&&(t.list={})})))}},formatTime:function(t){return Object(l["c"])(t).replace(" ","<br/>")},isAmountInput:function(t){return 1==t.type||2!=t.type&&(3==t.type||4!=t.type)},getTradeAt:function(t){return Object(l["c"])("0"==t.trade_at?t.created_at:t.trade_at)},getAcoutCodeText:function(t){return 1==t.type?t.acount.type_text+"充值":2==t.type?"提现至银行卡号："+Object(l["b"])(t.acount.acount):3==t.type?t.product.name+" 转至 余额":4==t.type?"余额 转至 "+t.product.name:""},filterSubmit:function(){this.requestList()},pageChange:function(t){this.formData.page=t,this.requestList()},tableRowClick:function(t){this.$refs.table.toggleRowExpansion(t)},expandChange:function(t,e){var a=this;if(!t.detail){if(this.detailLoading[t.id])return;this.$set(this.detailLoading,t.id,!0),tt(t.order_sn).then((function(e){a.$set(a.detailLoading,t.id,!1),200==e.code&&(t.detail=e.list)}))}},getPokerClass:function(t){t=t.split("_");var e={0:"heart",1:"spade",2:"diamond",3:"club"};return"gr-"+e[t[0]]+"-"+t[1].toLocaleLowerCase()},onCalendarChange:function(t){this.formData.startDate=t[0],t[1]&&(this.formData.endDate=t[1],this.calendarIsShow=!1)},clearFilter:function(){this.formData.selectProduct="",this.formData.startDate="",this.formData.endDate="",this.$refs.calendar.changeDate([null,null])}}},lt=ot,ct=(a("331b"),a("825a"),Object(m["a"])(lt,Z,Q,!1,null,"1bc49e3c",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},pt=[],ft={name:"Payment-Redirect",props:["type","user","app"],components:{},data:function(){return{}},computed:{},mounted:function(){var t=this.$route.query;t.url&&(window.location.href=decodeURIComponent(t.url))},methods:{}},mt=ft,ht=Object(m["a"])(mt,dt,pt,!1,null,"674baadb",null),gt=ht.exports,_t=a("8975"),vt={name:"User-Index",components:{Transfer:g,Bank:D,Security:T,Modify:Y,Withdraw:R,Exchange:K,Order:ut,PaymentRedirect:gt},data:function(){return{vipInfo:null,list:[{path:"/user/order",name:"投注记录",icon:"fa fa-list-alt",class:"order"},{path:"/user/transfer",name:"资金记录",icon:"fas fa-yen-sign",class:"transfer"},{path:"/user/bank",name:"银行卡",icon:"fa fa-credit-card",class:"bank"},{path:"/user/security",name:"安全中心",icon:"fas fa-user-shield",class:"security"},{path:"/help",name:"联系客服",icon:"fas fa-comment-dots",class:"help"}]}},computed:{app:function(){return this.$store.getters.app},user:function(){return this.$store.getters.user},product:function(){return this.$store.getters.product},page:function(){return this.$route.params.page||""},type:function(){return this.$route.params.type},isLogin:function(){return this.user.roles.indexOf("user")>-1}},mounted:function(){this.init()},methods:{init:function(){var t=this;!this.page||this.isLogin?this.$store.dispatch("getConfig","vip").then((function(e){t.vipInfo=e})):this.$router.push({path:"/auth/login"})},logout:function(){this.$store.dispatch("logout").then((function(){}))},getTotalMoney:function(){var t=Number(this.user.userInfo.total_money);for(var e in this.product.balance)0!==Number(e)&&(t+=Number(this.product.balance[e].money));return t.toFixed(2)},pushPath:function(t){this.app.isApp&&["/auth/login","/auth/register"].indexOf(t)>-1?this.$store.dispatch("postMsgToApp",{action:"presentModal",data:{url:t}}):this.$router.push({path:t})},getPercentage:function(t,e){if(0==e)return 100;var a=Number(t)/Number(e);return a>1?100:Object(_t["moneyToFixed"])(100*a)}}},bt=vt,yt=(a("0b74"),Object(m["a"])(bt,n,i,!1,null,null,null));e["default"]=yt.exports},db53:function(t,e,a){t.exports=a.p+"static/img/avatar.b882ba6b.jpg"},e5c8:function(t,e,a){},e734:function(t,e,a){"use strict";var n=a("d0d1"),i=a.n(n);i.a},e853:function(t,e,a){var n=a("d3f4"),i=a("1169"),s=a("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},f446:function(t,e,a){"use strict";var n=a("e5c8"),i=a.n(n);i.a},f5e0:function(t,e,a){},f951:function(t,e,a){}}]);
//# sourceMappingURL=chunk-65ace36a.b265e53c.js.map