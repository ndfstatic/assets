(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68db8ccc"],{"0423":function(e,t,a){},"0506":function(e,t,a){},"0b74":function(e,t,a){"use strict";var n=a("bcb3"),r=a.n(n);r.a},1194:function(e,t,a){},1338:function(e,t,a){},"218f":function(e,t){e.exports="data:image/webp;base64,UklGRlYDAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSAABAAABr+IgkiRFuuruOebz7xUeNERENvzo5hHBsdAxa6oURevclHXHpBdxxS0tudCdXhR/hHgEV5Ikm9a5erZt27bt2f9eLuY8f0f0n4Hbto3ErpsPIX+ArbgB0bHupr7L2Hxu1n8GmXtM4/TZWWRynsWqoA6DQtqUWa28gjJDHjYlPnCRz2tcm9tAyaLMWIJ7T084lQzP6Fp3KFvRYFdxEAV7aQ3UAB7nk8z5DkCN4su6Lg+P4xJxpdXXRBcpgujTGoWqu0YQMXrv7XGktm+GEeP33r7MNvftDHGhdRhOb/MB4vDei0myeWgnEJM3/kiXeqasWRmxda6007XrYsiXAwAAVlA4IDACAACQDgCdASoeAB4APjEUh0KiIQwGAwAQAYJbDHAPxm6gP4BMAP4BiANNZ/QOI3/ugtwD+AfjlPGUI4G8v4oXZIwC7AYgDfAeYDzsOiq803rAPLB9jv9p/RyRKB+Fc9u/oHgxehv/dOAA/SsOzZDd1ls7mynKk+5RJv5lgXg/qAD+/9iMP+5A0/80YunolvRVpvcf5Zc2dQDd/+i07KnxSbYaVDnTE6v99inJ2ahkknRh+h26C1rf/e54+B7a0HZA5qK+ZI250BH/8eSRvU0g8aOe6HqW1kIffiT7MM0OHEdugelX9LV/tQ2cRnJ+fg4f4ijP9wVMW+KyTztxgTTfYejdWR3FfbhusdFVeHupBLXO/4OPy/6eNdnXMjvi9ZVEu88iTeIOf/B3f8TtAwQbTdT7DbWNDxdLl3fYsFwaDpxDMzr3+z4eb/+5Q86/HjK9P0SMUePyY+w1/qjyqnu6ISP/l6f8jQabaOJpscZmRIm70GuQzH2lDjRYwMT0652lCWxAOVv/8Gv9Muh3Qk4DC8aB0YKzekc2+f0vYvk6//5tf/+4Af/jtiZ/vjf/ZdEM1x0GMHYpr66/Zei5wm81z/xHsu8Iemj5E/6tU/psDXd49HXR/f7badc9N0S06cnMmM2tb9J7/x6O1yl/gRr//VzekjAGb/4iebr/fIj/+Qw5P2o/4zoj/ZQUYvhznGm4af9D+0B/cWpbHtf+v/ObV8ou5kQH8WM5XC0r3yNbk4AAAA=="},3699:function(e,t,a){"use strict";var n=a("5e3c"),r=a.n(n);r.a},"3ab8":function(e,t,a){"use strict";var n=a("f951"),r=a.n(n);r.a},"3ec4":function(e,t){e.exports="data:image/webp;base64,UklGRvQCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSKgAAAABd6GgkaSGuy90MIB/nVVERGQQcGMKNypr3iojD7VMoasvaNqWCqvhgytJkpVoWHd3wx36/vd71qx9R/RfYdo2jNzxi/ytJn4FqsqfKD7ofKUCXaWgQ59Q+I+7HiWYiRkjGsrmfNVjrOUGM0LdHzXZLqTlssBLTjTMvARxybvIPGzBq7YivYEeA81zNR3raTr0Di3oWiUFXars6dfuFVkejlSHpfxyAABWUDggJgIAAHAQAJ0BKh4AHgA+MRSIQyIhIRgMBAAgAwS2HcQoD+q/gB6AwwP4B+AHSasA/AC3AMRn/ANTU/AOIA/nYtwD+Afg7PGUI9P85/CX8QOk73O7jbu0QLrO/AfZX2gMwW/0f9u97PogP6B6R3WAfoB1mf7Teir//yPB/4n/gOAA/WZiAyXfmNjuYtCcYmmAAP7uH//+lH//6WD//nP/1/vzn/2vrgtQhUi0NRn/y4f//rP//X4EshVbf5RaoJ8+8tjQqbgL9XrpCEdUqXnZ0+Rzg9PqtLyM33ld5DXWU/+jTv/VVzEKwYsvj/4ldT6z/wWW/9t7t3b0N9LBIad+izv0vy6o+HW/7lM4xnQDqddKo64XW/YAXn21OsxSdvjf9tu2fL8PX5/hx4jqzj5XP/uPXDlGe++JiP9yHkctk2J9uwf+CDoxVuvh7Zc12UmfiHYZ7SxT3FoTFJgbE2L84u3uWVOYRziib+cY5ItX/0hX/+h1//4QD/+7lW/+/k/+7RDqXqp3FYUIi/4uLovBwOgYmlDNP/ZiOQj/7AP7HEDBgEpGOxH/tdNvSkGiTouBAOrBPtkM3j/+0ssRVmxNA9rYvD+b9veuhBX3WnVv7A8dlyjPGhTKP2G80+vx5r+hnOZv/s/zrI/+x5oPNjDj9xS8GtKTyK4YTBYSPyvViMPgVP9X+B9E0t4fh0kaqUWQaw963p2GyYlKcar7uC4IR/gpeVMHDTxkgAA="},4337:function(e,t,a){},4926:function(e,t,a){"use strict";var n=a("1338"),r=a.n(n);r.a},"4a7a":function(e,t,a){},5485:function(e,t,a){},"5aab":function(e,t,a){"use strict";var n=a("1194"),r=a.n(n);r.a},"5e3c":function(e,t,a){},6499:function(e,t,a){"use strict";var n=a("6ad1"),r=a.n(n);r.a},6584:function(e,t,a){"use strict";var n=a("a97a"),r=a.n(n);r.a},"664a":function(e,t){e.exports="data:image/webp;base64,UklGRuQCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSNgAAAABR+IgkiRFuuo+Zvz373Rm10REZKMgTPT0hGJQx07R8iO71p3ibzQYBY87j+5bE20hZEJUuJJt24xu2lbstm0bd/5DCm9S6f+I/ity27ahkHvnJ+C/S5nHH3p36+c9Jsa90L9Wxi2pIqFhwYNOMQrdpVvJmTuyzzgLwDRPVIc6WElzqr0BVuyM6t6JW4vQtlS41xLAzn9k+Nyszugo/HN+L5VSutxY/2iew6JjFbXpl2RRBWfykuLa9ljG4Etw6ok8z3EcL4iThyUqLyfgmwz6ngP8hUgHAABWUDgg5gEAABAOAJ0BKh4AHgA+LRKHQqGhDfoADAFiWwAnTKEgs+AfiByZ+yXePJA+bD8P9pPuA/gG2Z/oB1AP1y9IDoM/Rm9iX0APKc/U/4Nf2kcM3JJWuKf4D3A/4Z/GP9B/Q+EA/S9uCQshCY3tR3vDgzkVjbJsCWJbOJTr5bAA/v/+5EU///KTF134vMZ8b9/hqd4Ww/Q6Jf/c/hX/yn3L9+T49zv/f9Ylf8Sy5OPyEfEJ+G/UfX4izxYd4Tbfqw+DNDjn6s+BGMyrcV1iHsb7Mp8C44n/5/Z3om9SZ4g3dMBjr7DSZWDr5svFy8r5q537YK//98BuK8Guu7eZGmvc5A/+wV5qc7JbE2ihSc4IRxtyY4YGBI53K6X9jh5vNYD5eSLjQ2UY/iT2sT0Ji2lv+BRWNcKLlSA7adXmhOFQXD8QPJ3UlTG/x1X7QPlvgW+OsuBPUHXucGlBz+Zqmq+H59b/3cPv/uwxUYEsX6+LXXOGkmgnH+sHSI5hFpcvXtBzPnlrJBuj/MKidukhJeKGyyKfuko9Sv7W9W+mcvI8fzfDyFIZn31wH/DQazg0FJgC4aiX+Wqyv0B7mNEdUlfvJSJm7+7LpNjuv0PllyTeeD5khQeHb00q9RjxAoc8IfPJG8Khz7H/OktwAA=="},"6ad1":function(e,t,a){},"6c6a":function(e,t,a){},"6dcd":function(e,t,a){"use strict";var n=a("4a7a"),r=a.n(n);r.a},"7d10":function(e,t,a){"use strict";var n=a("0423"),r=a.n(n);r.a},8253:function(e,t,a){},"825a":function(e,t,a){"use strict";var n=a("d5f8"),r=a.n(n);r.a},"8e60c":function(e,t){e.exports="data:image/webp;base64,UklGRpIDAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSKABAAAB1+QwktSw8R2Q9N8xIKmHiMiPIzJicwXFCbOxnKRYm0TaDkYeWZHrz5skd4nI/hgJ2XBJU1ICaRu5AFuSZNPWHNu+tm3btm3btu3bX7t1jeeI/if9cVPXK9jbZr/UeXC3IRJ6T5cf+wDmZTZztbXoBOxUSbia3sqjj/JnwOwUD+G0rPMOT6mTB94iemPfvx9LeL5oKLgHs541+bpSsI8OMwnltWB205cnUw7BvnYX7Zf33eIuVEq8yOMGzPVwUMY0+Juy5JQ1sEsm4iX+2VyM0i0zWxBh9ErK4qwi4qRhE9xgWuKEsCe8YoIbcYqJ18yDfZ5IfoJgoW4b7GulmoTuB2DX83chaOq6BDtsozfSgCswx2294C/KxsFuutE7itRnPI7nPoNbrNsCcxIsofcM7WDWS/bAtTRd4DZOSe97zOC4sR/sdWnf60uNnj4Q+e4/9ue9gFmrW8GIiz6UxZ7PFR+A6Wk6Ww2gT2hz9hpGcVPfexQpoc/YWvqrXjbqZwqV9DmfnMrDvupCC33WET9QH+hJn1dFRMnpK0o1/RMAAFZQOCDMAQAAkAwAnQEqHgAeAD4xFolDoiEhFAQAIAMEtgBOmUI9P9V/ADkz9wuwH4AYttygbxFdAH7K9YB6AHlVewl+2P7IezYigFMa5F/wn/nfcA/hX8f/wPAAfpupfjmfKnpBveTyd1AgmQubwiDDszMwAAD+//6vyX//8aF/9IP/pB7n2hHb3vXdNweCoes2buH45vf6z8cH//lj2sXBigBgx2+/CiX/8cPuV75jxi8z3mNDoo2MRzVM3XjbTYmBGf/Irna3PhaM9t9NZjb4f/yUJy5svFy/4l1Nf7oDTHSqcvaTyXxG3qbTxYGvx4Y9DTiclUCQYge5SwyaJ30M9chYX3H8eoZ14MSLU18/Hc4+yZb18/JGItu451wi0+JyWmXWo8+mFv4xTj1x8svu7FMThf3Ok6hmXtvi9hu6Z9Hvfy/vl/Uw9u0cYIzlGm8cHf+7u2w5K6puaFh47DoovolHORk6rV/3QPqO/FibGTKn+1TTm3ZjXhI6IXxyWJckPC+hFOzxoV3KjKI/VqS5yr2Gj/f/Up8UgD9+ax5/Bc0fobeOj0zV8qBBHMDAUwIJHr+m0ReVyU7//2jVvOVcx3ZmKmJf//Fptg47lyFaTvAAAA=="},"94a0":function(e,t,a){"use strict";var n=a("0506"),r=a.n(n);r.a},"94f3":function(e,t){e.exports="data:image/webp;base64,UklGRjIDAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSDUBAAAB1+OwbRtJWimevbf/ej1zV0RE5EUwdLHFCaaDoTGdTx50kNqhUjGsQfJFtlQaYwi/xbDD8bAd2ZYj/4B227bpJrZZt7Ht2rZtBfV7L8n++cF9GqOfI/rPwG3bRlTXzYdI/q8U0wz6ew+PuNiobkFU3nCwuSOr0GsOXhis23go08CCmSuqpNMbjUY5V/g+2ew0LOOqN4+CBf181Nfxa4uDR6+kL2myygHapMBGgNu1OV9f/qmMW8v6o/q8vzefUz5QXKwMyckI7Y/lqwDoooaTRjLxtj/7kD1lggou9gIb+EiNxq+b5wYuVqKn2Iq5J1a/mlYulmJnuN/yVM7/YJdysB3ZwdnMeO7g98XUuyivSJ5C5R80C5fApLqXzL93SCgzuEyjQWHXIuGYPn3xeVPUScQPAAAAVlA4INYBAABQDACdASoeAB4APjESh0KiIQwGAwAQAYJbCcDrAPwAuAH8ApkDyAvwDiAP8ALcA/jv4ATxygqT8b/nO9N9wMljqV4YD9dP1Vqjz7ZiPa8xH+df5TrAeQAp50JwVlZOIVg6teUC3RjTmeeO4AD+/BL//54P/+6r//1LAj/v///3DzOUOggTGeNf7yaj//VM/BYrn/NFXai9s1s9ETkzt+f2QHC2k/dDFk3/+6rOJay//7pf/9XnwiZLP//3S//6vPhFZ/7AP3Zt/+8q0y5gxhd3Mc7ajxLLM+xDxozxcy1dK3vj/mr2/yifd7+yd/baf8I6vn47+cSOnkUVH5nucG9I7dER7n4lERR/48OBQNJ53fI1hjf6x+FD8XlOIu9spM7+f2YpF6xjShwnRKniCQ3t+8o9zyF10ecp33Fs3T/qwk/FYWZH5z4cJtB3GxbTw17PtHXq3Ul+Rd91v/mEaudKKg2O79PbcN7yj/pv6v/+gHait/+P/c8jo/+DIbFF/8fSpLLv5/ifxLbXxp1zzr+9in74wYXY/o0G+zIe0MCNnNoolvCXvhlMmXoZeK2k1rk3AafIR92ri5qyauyFT/P/Hm/vBdzx1PCfUc3PS5W3BtT/uQAAAA=="},"95c6":function(e,t,a){"use strict";var n=a("5485"),r=a.n(n);r.a},a97a:function(e,t,a){},aa0c:function(e,t,a){"use strict";var n=a("b965"),r=a.n(n);r.a},b72e:function(e,t,a){"use strict";var n=a("c70c"),r=a.n(n);r.a},b965:function(e,t,a){},bc65:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common_two_col"},[a("div",{staticClass:"content container"},[a("el-container",[a("el-aside",{staticClass:"content_left",attrs:{width:"160px"}},[a("NavLeft",{attrs:{hideUserInfo:e.hideUserInfo,page:e.page,user:e.user,list:e.list}})],1),a("el-main",{staticClass:"content_main"},[e.hideUserInfo?e._e():a("div",{staticStyle:{"padding-bottom":"20px"}},[a("CommonUserInfo",{attrs:{page:e.page,product:e.product,user:e.user}})],1),a("el-card",{staticClass:"content_main_inner box-card tc_card"},[e.$slots.title?a("div",{staticClass:"common_title"},[e._t("title")],2):e._e(),a("div",{staticClass:"main_inner"},[e._t("main")],2)])],1)],1)],1)])},r=[],o=(a("5880"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"nav_left"}},[n("el-card",{staticClass:"content_main_inner box-card tc_card"},[e.hideUserInfo?e._e():n("div",{staticClass:"left_userinfo"},[n("router-link",{staticClass:"avatar",attrs:{to:"/user"}},[n("img",{attrs:{src:a("db53")}})]),n("div",{staticClass:"username"},[e._v("\n\t\t\t\t\t"+e._s(e.user.userInfo.username)+"\n\t\t\t\t\t"),e.vipInfo?n("img",{attrs:{src:e._f("imgFormatter")(e.vipInfo[e.user.userInfo.level].avatar),height:"16"}}):e._e()]),n("div",{staticClass:"desc"},[e._v("彪悍的人生不需要解释")])],1),n("ul",{staticClass:"nav flex-column left_nav"},e._l(e.list,(function(t,a){return n("li",{key:a,staticClass:"nav-item"},[t.name?n("div",{staticClass:"nav-link"},[e._v("\n\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t")]):e._e(),n("ul",{staticClass:"sub_nav_list"},e._l(t.subList,(function(t){return n("li",{key:t.name,class:{active:t.page.indexOf(e.page)>-1}},[n("router-link",{staticClass:"rounded",attrs:{to:t["link"]}},[t.icon?n("i",{staticClass:"nav_icon",style:{backgroundImage:"url("+t.icon+")"}}):e._e(),n("span",{style:{paddingLeft:t.icon?"10px":"20px"}},[e._v(e._s(t["name"]))])])],1)})),0)])})),0)])],1)}),s=[],i={name:"User-NavLeft",props:["page","type","user","list","hideUserInfo"],components:{},data:function(){return{vipInfo:null}},computed:{},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$store.dispatch("getConfig","vip").then((function(t){e.vipInfo=t}))}}},l=i,c=(a("3699"),a("7d10"),a("2877")),u=Object(c["a"])(l,o,s,!1,null,"5fbf8fc5",null),d=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common_userinfo"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-card",{staticClass:"box-card tc_card"},[a("span",[e._v("总资产："),a("MoneyDropdown",{attrs:{user:e.user,product:e.product,color:"#ffde00"}})],1),a("span",{staticClass:"m_handler"},[a("router-link",{attrs:{to:"/user/charge"}},[e._v("充值")]),a("router-link",{attrs:{to:"/user/withdraw"}},[e._v("提现")])],1)])],1)]),a("el-col",{attrs:{span:14}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-card",{staticClass:"box-card tc_card"},[a("span",{staticClass:"secure_level"},[e._v("\n                        账户安全等级："),a("span",{domProps:{innerHTML:e._s(e.getSecureLevel)}}),e._v("  \n                        "),a("span",{staticStyle:{"font-size":"12px"}},[e.user.userInfo.has_draw_passwd?e._e():a("router-link",{attrs:{to:"/user/info?t=secure"}},[e._v("设置提款密码")]),e._v("\n                             \n                            "),e.user.bankcardList.length?e._e():a("router-link",{attrs:{to:"/user/info?t=bank"}},[e._v("绑定银行卡")]),e._v("\n                             \n                            "),e.user.userInfo.mobile_phone?e._e():a("router-link",{attrs:{to:"/user/info?t=phone"}},[e._v("绑定手机号")]),e._v("\n                             \n                            "),e.user.userInfo.email?e._e():a("router-link",{attrs:{to:"/user/info/?t=email"}},[e._v("绑定邮箱")])],1)])])],1)])],1)],1)},p=[],f=a("7576"),_=a("ed08"),h={name:"common_userinfo",props:["user","product"],components:{MoneyDropdown:f["a"]},data:function(){return{levelImg:[{url:Object(_["c"])("/images/2019/09/08/c2626222-dc1e-40b5-be65-e7cbd6e59192.jpg")}]}},computed:{getSecureLevel:function(){var e=0;return this.user.userInfo.has_draw_passwd&&(e+=2),this.user.userInfo.mobile_phone&&e++,this.user.userInfo.email&&e++,e<=1?'<span style="color: #F56C6C;">低</span>':e<=2?'<span style="color: #E6A23C;">中</span>':e>2?'<span style="color: #67C23A;">高</span>':void 0}},mounted:function(){},methods:{}},b=h,v=(a("6dcd"),Object(c["a"])(b,m,p,!1,null,null,null)),g=v.exports,y={name:"Common-Two-Col",props:["page","user","list","title","product","hideUserInfo"],components:{NavLeft:d,CommonUserInfo:g},data:function(){return{}},computed:{},mounted:function(){this.init()},methods:{init:function(){}}},w=y,k=(a("cd2e"),Object(c["a"])(w,n,r,!1,null,null,null));t["a"]=k.exports},bcb3:function(e,t,a){},c70c:function(e,t,a){},cae2:function(e,t,a){},cc4a:function(e,t,a){"use strict";var n=a("f662"),r=a.n(n);r.a},cd2e:function(e,t,a){"use strict";var n=a("cae2"),r=a.n(n);r.a},d513:function(e,t,a){"use strict";var n=a("4337"),r=a.n(n);r.a},d5f8:function(e,t,a){},dab6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_index"},[a("CommonTwoCol",{attrs:{user:e.user,page:e.page,product:e.product,list:e.navList,title:e.title}},[a("template",{slot:"main"},["level"==e.page?a("Level",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"info"==e.page?a("Info",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"security"==e.page?a("Security",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"modify"==e.page?a("Modify",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"bank"==e.page?a("Bank",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"charge"==e.page?a("Charge",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"withdraw"==e.page?a("Withdraw",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"transfer"==e.page?a("Transfer",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"exchange"==e.page?a("Exchange",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e(),"order"==e.page?a("Order",{attrs:{user:e.user,type:e.type,product:e.product}}):e._e()],1)],2)],1)},r=[],o=(a("7f7f"),a("ac6a"),a("5880"),a("bc65")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_level"},[e.vipInfo?a("div",{staticClass:"info_section level_info"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"sec_head"},[e._v("等级信息")]),a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("el-form",{attrs:{"label-position":"left","label-width":"30%"}},[a("el-form-item",{attrs:{label:"当前等级"}},[a("router-link",{staticClass:"level_name",staticStyle:{color:"#fff"},attrs:{to:"/vip"}},[e._v("\n                                    "+e._s(e.vipInfo[e.user.userInfo.level].name)+"\n                                    "),a("img",{attrs:{src:e._f("imgFormatter")(e.vipInfo[e.user.userInfo.level].avatar)}})])],1),a("el-form-item",{attrs:{label:"晋级进度"}},[a("div",{staticClass:"inner_content",staticStyle:{padding:"5px 0"}},[e.vipInfo[Number(e.user.userInfo.level)+1]?[a("div",{staticClass:"progress"},[a("el-progress",{attrs:{type:"line","text-inside":!0,"stroke-width":15,percentage:e.getPercentage(e.user.userInfo.exp,e.vipInfo[Number(e.user.userInfo.level)+1].chargeAmount)}}),e._v("\n                                             "),a("span",[e._v("\n                                                "+e._s(e.user.userInfo.exp)+" / "+e._s(e.vipInfo[Number(e.user.userInfo.level)+1].chargeAmount)+" 月存款\n                                            ")])],1),a("div",{staticClass:"progress"},[a("el-progress",{attrs:{type:"line","text-inside":!0,color:"#f56c6c","stroke-width":15,percentage:e.getPercentage(e.user.userInfo.stream_total,e.vipInfo[Number(e.user.userInfo.level)+1].orderAmount)}}),e._v("\n                                             "),a("span",[e._v("\n                                                "+e._s(e.user.userInfo.stream_total)+" / "+e._s(e.vipInfo[Number(e.user.userInfo.level)+1].orderAmount)+" 月流水\n                                            ")])],1)]:[e._v("\n                                        无\n                                    ")]],2)]),e.user.userInfo.level>1?a("el-form-item",{attrs:{label:"保级要求"}},[a("div",{staticClass:"inner_content"},[a("div",{staticClass:"progress"},[a("el-progress",{attrs:{type:"line","text-inside":!0,color:"#f56c6c","stroke-width":15,percentage:e.getPercentage(e.user.userInfo.stream_total,e.vipInfo[Number(e.user.userInfo.level)].keepLevelAmount)}}),e._v("\n                                         "),a("span",[e._v("\n                                            "+e._s(e.user.userInfo.stream_total)+" / "+e._s(e.vipInfo[Number(e.user.userInfo.level)].keepLevelAmount)+" 60日流水\n                                        ")])],1)])]):e._e()],1)],1)],1)]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"sec_head"},[e._v("返水比例")]),a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("el-form",{attrs:{"label-position":"left","label-width":"40%"}},[e.vipInfo[e.user.userInfo.level].backwater[0]?a("el-form-item",{attrs:{label:"全球彩票"}},[e._v("\n                                "+e._s(e._f("moneyToFixed")(e.vipInfo[e.user.userInfo.level].backwater[0]))+"%\n                            ")]):e._e(),e.vipInfo[e.user.userInfo.level].backwater[1]?a("el-form-item",{attrs:{label:"体育竞技"}},[e._v("\n                                "+e._s(e._f("moneyToFixed")(e.vipInfo[e.user.userInfo.level].backwater[1]))+"%\n                            ")]):e._e(),e.vipInfo[e.user.userInfo.level].backwater[2]?a("el-form-item",{attrs:{label:"真人视讯"}},[e._v("\n                                "+e._s(e._f("moneyToFixed")(e.vipInfo[e.user.userInfo.level].backwater[2]))+"%\n                            ")]):e._e(),e.vipInfo[e.user.userInfo.level].backwater[3]?a("el-form-item",{attrs:{label:"电子游艺"}},[e._v("\n                                "+e._s(e._f("moneyToFixed")(e.vipInfo[e.user.userInfo.level].backwater[3]))+"%\n                            ")]):e._e(),e.vipInfo[e.user.userInfo.level].backwater[4]?a("el-form-item",{attrs:{label:"电子竞技"}},[e._v("\n                                IM电竞 "+e._s(e._f("moneyToFixed")(e.vipInfo[e.user.userInfo.level].backwater[4]))+"%\n                            ")]):e._e(),e.vipInfo[e.user.userInfo.level].backwater[5]?a("el-form-item",{attrs:{label:"棋牌娱乐"}},[e._v("\n                                "+e._s(e._f("moneyToFixed")(e.vipInfo[e.user.userInfo.level].backwater[5]))+"%\n                            ")]):e._e()],1)],1)],1)])],1),a("div",{staticClass:"center"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.$router.push("/vip")}}},[e._v("查看等级规则")])],1)],1):e._e()])},i=[],l=(a("c5f6"),a("7576")),c=a("ed08"),u=a("8975"),d={name:"User-Info",props:["type","user","product"],components:{MoneyDropdown:l["a"]},data:function(){return{vipInfo:null}},computed:{app:function(){return this.$store.getters.app}},mounted:function(){var e=this;this.$store.dispatch("getConfig","vip").then((function(t){e.vipInfo=t}))},methods:{getPercentage:function(e,t){if(0==t)return 100;var a=Number(e)/Number(t);return a>1?100:Object(u["moneyToFixed"])(100*a)}}},m=d,p=(a("def1"),a("2877")),f=Object(p["a"])(m,s,i,!1,null,null,null),_=f.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_info"},[a("el-tabs",{attrs:{stretch:!0,"tab-position":"top"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("el-form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.infoFormRules,"label-position":"left","label-width":"130px"}},[a("el-form-item",{attrs:{label:"用户名"}},[e._v("\n                    "+e._s(e.user.userInfo.username)+"\n                ")]),a("el-form-item",{attrs:{label:"手机号"}},[e.user.userInfo.mobile_phone?a("span",[e._v(e._s(e.user.userInfo.mobile_phone))]):a("router-link",{attrs:{to:"/user/info?t=phone"}},[e._v("绑定手机号")])],1),a("el-form-item",{attrs:{label:"邮箱"}},[e.user.userInfo.email?a("span",[e._v(e._s(e.user.userInfo.email))]):a("router-link",{attrs:{to:"/user/info?t=email"}},[e._v("邮箱")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"提款密码管理",name:"secure"}},[a("el-form",{ref:"drawPasswdForm",attrs:{model:e.drawPasswdForm,rules:e.drawPasswdFormRules,"label-position":"left","label-width":"130px"}},[e.user.userInfo.has_draw_passwd?a("el-form-item",{attrs:{prop:"oldSecurityCode",label:"旧提款密码"}},[a("el-input",{attrs:{size:"small",type:"password",placeholder:"请输入旧6位纯数字提款密码"},model:{value:e.drawPasswdForm.oldSecurityCode,callback:function(t){e.$set(e.drawPasswdForm,"oldSecurityCode",t)},expression:"drawPasswdForm.oldSecurityCode"}})],1):e._e(),a("el-form-item",{attrs:{prop:"securityCode",label:(e.user.userInfo.has_draw_passwd?"新":"")+"提款密码"}},[a("el-input",{attrs:{size:"small",type:"password",placeholder:"请输入"+(e.user.userInfo.has_draw_passwd?"新":"")+"6位纯数字提款密码"},model:{value:e.drawPasswdForm.securityCode,callback:function(t){e.$set(e.drawPasswdForm,"securityCode",t)},expression:"drawPasswdForm.securityCode"}})],1),a("el-form-item",{attrs:{prop:"reSecurityCode",label:"确认"+(e.user.userInfo.has_draw_passwd?"新":"")+"提款密码"}},[a("el-input",{attrs:{size:"small",type:"password",placeholder:"请再次输入"+(e.user.userInfo.has_draw_passwd?"新":"")+"6位纯数字提款密码"},model:{value:e.drawPasswdForm.reSecurityCode,callback:function(t){e.$set(e.drawPasswdForm,"reSecurityCode",t)},expression:"drawPasswdForm.reSecurityCode"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("drawPasswdForm")}}},[e._v("提交")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"银行卡管理",name:"bank"}},[e.user.userInfo.has_draw_passwd?a("div",[e.user.bankcardList.length?a("div",[a("div",{staticStyle:{color:"#cc5151","font-size":"12px","margin-bottom":"10px"}},[e._v("*如需修改或删除银行卡请联系客服")]),e._l(e.user.bankcardList,(function(t){return a("el-form",{key:t.id,attrs:{"label-width":"130px","label-position":"left"}},[a("el-form-item",{attrs:{label:"开户银行",prop:"open_account_bank"}},[e._v("\n                            "+e._s(t.open_account_bank)+" \n                        ")]),a("el-form-item",{attrs:{label:"开户城市",prop:"areaSelect"}},[e._v("\n                            "+e._s(t.open_account_province)+"\n                        ")]),a("el-form-item",{attrs:{label:"银行卡号",prop:"bank_account"}},[e._v("\n                            "+e._s(t.bank_account)+"\n                        ")]),a("el-form-item",{attrs:{label:"开户姓名",prop:"name"}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])],1)}))],2):a("el-form",{ref:"bankForm",attrs:{model:e.bankForm,rules:e.bankFormRules,"label-width":"130px","label-position":"left"}},[a("el-form-item",{attrs:{label:"开户银行",prop:"open_account_bank"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.bankForm.open_account_bank,callback:function(t){e.$set(e.bankForm,"open_account_bank",t)},expression:"bankForm.open_account_bank"}},e._l(e.bank_list,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"开户城市",prop:"areaSelect"}},[a("el-cascader",{attrs:{"change-on-select":"","expand-trigger":"hover",options:e.areaOptions},model:{value:e.bankForm.areaSelect,callback:function(t){e.$set(e.bankForm,"areaSelect",t)},expression:"bankForm.areaSelect"}})],1),a("el-form-item",{attrs:{label:"银行卡号",prop:"bank_account"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.bankForm.bank_account,callback:function(t){e.$set(e.bankForm,"bank_account",t)},expression:"bankForm.bank_account"}})],1),a("el-form-item",{attrs:{label:"开户姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.bankForm.name,callback:function(t){e.$set(e.bankForm,"name",t)},expression:"bankForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("bankForm")}}},[e._v("提交")])],1)],1)],1):a("div",[a("p",{staticClass:"form-control-plaintext"},[e._v("\n                为了资金安全，请先\n                "),a("router-link",{staticClass:"ml-1",attrs:{to:{path:"/user/info?t=secure"}}},[e._v("\n                    设置提款密码\n                    ")])],1)])]),a("el-tab-pane",{attrs:{label:"密码管理",name:"password"}},[a("el-form",{ref:"pwdForm",attrs:{model:e.pwdForm,rules:e.pwdFormRules,"label-width":"130px","label-position":"left"}},[a("el-form-item",{attrs:{prop:"oldPassword",label:"旧密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧密码"},model:{value:e.pwdForm.oldPassword,callback:function(t){e.$set(e.pwdForm,"oldPassword",t)},expression:"pwdForm.oldPassword"}})],1),a("el-form-item",{attrs:{prop:"password",label:"新密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.pwdForm.password,callback:function(t){e.$set(e.pwdForm,"password",t)},expression:"pwdForm.password"}})],1),a("el-form-item",{attrs:{prop:"rePassword",label:"确认新密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入新密码"},model:{value:e.pwdForm.rePassword,callback:function(t){e.$set(e.pwdForm,"rePassword",t)},expression:"pwdForm.rePassword"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("pwdForm")}}},[e._v("提交")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"手机号管理",name:"phone"}},[a("el-form",{ref:"mobileForm",attrs:{model:e.mobileForm,rules:e.mobileFormRules,"label-width":"130px","label-position":"left"}},[e.user.userInfo.mobile_phone?a("el-form-item",{attrs:{prop:"mobile_phone",label:"绑定手机号"}},[e._v("\n                    "+e._s(e.user.userInfo.mobile_phone)+"\n                ")]):e._e(),a("el-form-item",{attrs:{prop:"phone",label:"输入"+(e.hasPhone?"新":"")+"手机号"}},[a("el-input",{attrs:{placeholder:"请输入"+(e.hasPhone?"新":"")+"手机号"},model:{value:e.mobileForm.phone,callback:function(t){e.$set(e.mobileForm,"phone",t)},expression:"mobileForm.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("mobileForm")}}},[e._v("提交")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"邮箱管理",name:"email"}},[a("el-form",{ref:"emailForm",attrs:{model:e.emailForm,rules:e.emailFormRules,"label-width":"130px","label-position":"left"}},[e.user.userInfo.email?a("el-form-item",{attrs:{prop:"email",label:"绑定邮箱"}},[e._v("\n                    "+e._s(e.user.userInfo.email)+"\n                ")]):e._e(),a("el-form-item",{attrs:{prop:"email",label:"输入"+(e.hasEmail?"新":"")+"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入"+(e.hasEmail?"新":"")+"邮箱"},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("emailForm")}}},[e._v("提交")])],1)],1)],1)],1)],1)},b=[],v=a("bd86"),g=a("2934"),y=a("7b0a"),w=a("c24f"),k={name:"User-Info",props:["type","user","product"],components:{},data:function(){var e,t=function(e,t,a){t&&2==t.length?a():a(new Error("请选择开户城市"))};return{loading:!1,activeName:"info",infoForm:{name:"",type:"info"},infoFormRules:{},drawPasswdForm:{oldSecurityCode:"",securityCode:"",reSecurityCode:"",type:"security_code"},drawPasswdFormRules:{oldSecurityCode:y["d"],securityCode:y["d"],reSecurityCode:y["d"]},bank_list:["工商银行","建设银行","农业银行","民生银行","招商银行","交通银行","中国银行","邮政储蓄","中信银行","兴业银行","华夏银行","浦发银行","广发银行","平安银行","光大银行","农商银行","台州银行"],areaOptions:[],bankForm:{id:"",open_account_bank:"",areaSelect:[],bank_account:"",name:""},bankFormRules:(e={open_account_bank:[{required:!0,message:"请选择开户银行",trigger:"change"}],areaSelect:[{required:!0,validator:t,trigger:"change"}],bank_account:[{required:!0,message:"请选择银行卡号",trigger:"blur"}]},Object(v["a"])(e,"bank_account",y["a"]),Object(v["a"])(e,"name",y["b"]),e),pwdForm:{oldPassword:"",password:"",rePassword:"",type:"password"},pwdFormRules:{oldPassword:y["f"],password:y["f"],rePassword:y["f"]},mobileForm:{phone:"",type:"phone"},mobileFormRules:{phone:y["g"]},emailForm:{email:"",type:"email"},emailFormRules:{email:y["e"]}}},computed:{hasPhone:function(){return this.user.userInfo.mobile_phone},hasEmail:function(){return this.user.userInfo.email}},mounted:function(){this.init()},methods:{init:function(){var e=this;0==this.areaOptions.length&&Object(g["a"])().then((function(t){if(200==t.code){var a=t.list;a.forEach((function(e){e.value=e.label=e.name,e.children=e.cities,e.children.forEach((function(e){e.value=e.label=e.name}))})),e.areaOptions=a}})),this.user.bankcardList.length||this.$store.dispatch("bankcardList");var t=this.$route.query.t;this.activeName=t||"info"},submitForm:function(e){var t=this,a=decodeURIComponent(this.$route.query.r||""),n={},r=null;this.$refs[e].validate((function(o){if(o){switch(e){case"drawPasswdForm":if(r=t.drawPasswdForm,r.securityCode!=r.reSecurityCode)return void t.$message.error("提款码不一致");if(t.user.userInfo.has_draw_passwd){if(r.oldSecurityCode==r.securityCode)return void t.$message.error("不能与原提款码一致");n.old_draw_passwd=r.oldSecurityCode,n.draw_passwd=r.securityCode}else n.key="draw_passwd",n.val=r.securityCode;break;case"bankForm":t.submitBank();break;case"pwdForm":if(r=t.pwdForm,r.password!=r.rePassword)return void t.$message.error("密码不一致");if(r.oldPassword==r.password)return void t.$message.error("不能与原密码一致");n.old_password=r.oldPassword,n.password=r.password;break;case"mobileForm":r=t.mobileForm,n.key="mobile_phone",n.val=r.phone;break;case"emailForm":r=t.emailForm,n.key="email",n.val=r.email;break}if(n.type=r.type,t.loading)return;t.loading=!0,Object(w["i"])(n).then((function(e){t.loading=!1,200==e.code?(t.$message.success("提交成功"),t.$store.dispatch("getUserInfo"),t.$router.push({path:a||"/user/info?t=info"})):t.$message.error(e.info)}))}}))},submitBank:function(){var e=this,t=this.bankForm,a={id:t.id,name:t.name,open_account_bank:t.open_account_bank,bank_account:t.bank_account,open_account_province:t.areaSelect[0]+"-"+t.areaSelect[1],open_account_address:"",id_card:""};this.loading||(this.loading=!0,this.$store.dispatch("addBankcard",a).then((function(t){e.loading=!1,200==t.code?(e.$message.success("绑定成功"),e.$store.dispatch("bankcardList")):e.$message.error(t.info)})))}}},C=k,A=(a("95c6"),Object(p["a"])(C,h,b,!1,null,null,null)),x=A.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_security"},[a("div",{staticClass:"list-group"},[a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"col col-8",attrs:{span:16}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 t"},[e._v("登录密码")])]),a("p",{staticClass:"mb-1"},[e._v("建议您使用字母和数字的组合、混合大小写、在组合中加入下划线等符号。")])]),a("el-col",{staticClass:"col_right",attrs:{span:8}},[a("router-link",{attrs:{to:"/user/modify/password"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("修改密码")])],1)],1)],1)],1),a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"col col-8",attrs:{span:16}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 t",class:e.user.userInfo.has_draw_passwd?"":"hl"},[e._v("\n                            "+e._s(e.user.userInfo.has_draw_passwd?"":"未设置")+"提款密码\n                        ")])]),a("p",{staticClass:"mb-1"},[e._v("提款密码用于提现、绑定银行卡等操作，可保障资金安全。")])]),a("el-col",{staticClass:"col_right",attrs:{span:8}},[e.user.userInfo.has_draw_passwd?a("span",[a("router-link",{staticClass:"btn btn-info",attrs:{to:"/user/modify/security_code"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("修改提款密码")])],1),e._v("  \n                        "),a("router-link",{staticClass:"btn btn-info",attrs:{to:"/about/contact?forget=1"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("找回提款密码")])],1)],1):e._e(),e.user.userInfo.has_draw_passwd?e._e():a("span",[a("router-link",{staticClass:"btn btn-info",attrs:{to:"/user/modify/security_code"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("设置提款密码")])],1)],1)])],1)],1),a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"col col-8",attrs:{span:16}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 t",class:e.user.userInfo.mobile_phone?"":"hl"},[e._v("\n                            "+e._s(e.user.userInfo.mobile_phone?"":"未绑定")+"密保手机号\n                        ")])]),a("p",{staticClass:"mb-1"},[e._v("密保手机可以增加账户安全性，快速找回帐号密码。")])]),a("el-col",{staticClass:"col_right",attrs:{span:8}},[a("router-link",{staticClass:"btn btn-info",attrs:{to:"/user/modify/phone"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("\n                            "+e._s(e.user.userInfo.mobile_phone?"修改":"绑定")+"手机号\n                        ")])],1)],1)],1)],1),a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"col col-8",attrs:{span:16}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 t",class:e.user.userInfo.email?"":"hl"},[e._v("\n                            "+e._s(e.user.userInfo.email?"":"未绑定")+"密保邮箱\n                        ")])]),a("p",{staticClass:"mb-1"},[e._v("绑定邮箱可以增加账户安全性，快速找回帐号密码。")])]),a("el-col",{staticClass:"col_right",attrs:{span:8}},[a("router-link",{staticClass:"btn btn-info",attrs:{to:"/user/modify/email"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("\n                            "+e._s(e.user.userInfo.email?"修改":"绑定")+"邮箱\n                        ")])],1)],1)],1)],1)],1)])},D=[],S={name:"User-Security",props:["type","user"],components:{},data:function(){return{}},computed:{},mounted:function(){},methods:{}},F=S,P=(a("b72e"),Object(p["a"])(F,I,D,!1,null,"cb91e496",null)),L=P.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_modify"},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,"label-width":"100px","label-position":"top"}},["password"==e.type?a("div",[a("el-form-item",{attrs:{prop:"oldPassword",label:"旧密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧密码"},model:{value:e.formData.oldPassword,callback:function(t){e.$set(e.formData,"oldPassword",t)},expression:"formData.oldPassword"}})],1),a("el-form-item",{attrs:{prop:"password",label:"新密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{prop:"rePassword",label:"确认新密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入新密码"},model:{value:e.formData.rePassword,callback:function(t){e.$set(e.formData,"rePassword",t)},expression:"formData.rePassword"}})],1)],1):e._e(),"security_code"==e.type?a("div",[e.user.userInfo.has_draw_passwd?a("el-form-item",{attrs:{prop:"oldSecurityCode",label:"旧提款密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧6位纯数字提款密码"},model:{value:e.formData.oldSecurityCode,callback:function(t){e.$set(e.formData,"oldSecurityCode",t)},expression:"formData.oldSecurityCode"}})],1):e._e(),a("el-form-item",{attrs:{prop:"securityCode",label:(e.user.userInfo.has_draw_passwd?"新":"")+"提款密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入"+(e.user.userInfo.has_draw_passwd?"新":"")+"6位纯数字提款密码"},model:{value:e.formData.securityCode,callback:function(t){e.$set(e.formData,"securityCode",t)},expression:"formData.securityCode"}})],1),a("el-form-item",{attrs:{prop:"reSecurityCode",label:"确认"+(e.user.userInfo.has_draw_passwd?"新":"")+"提款密码"}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入"+(e.user.userInfo.has_draw_passwd?"新":"")+"6位纯数字提款密码"},model:{value:e.formData.reSecurityCode,callback:function(t){e.$set(e.formData,"reSecurityCode",t)},expression:"formData.reSecurityCode"}})],1)],1):e._e(),"find_security_code"==e.type?a("div",[e.hasPhoneOrEmail?e._e():a("div",{staticClass:"form-group"},[a("p",{staticClass:"form-control-plaintext"},[e._v("\n                    绑定邮箱或手机号后才能找回提款密码。 \n                    "),a("router-link",{attrs:{to:"/user/modify/phone"}},[e._v("绑定手机号")]),e._v(" \n                    "),a("router-link",{attrs:{to:"/user/modify/email"}},[e._v("绑定邮箱")])],1)]),e.hasPhoneOrEmail?a("el-tabs",{attrs:{value:"phone"}},[e.user.userInfo.mobile_phone?a("el-tab-pane",{attrs:{label:"通过手机号找回",name:"phone"}},[a("el-form-item",{attrs:{prop:"phoneCode",label:"输入手机验证码"}},[a("el-input",{attrs:{placeholder:"请输入手机验证码"},model:{value:e.formData.phoneCode,callback:function(t){e.$set(e.formData,"phoneCode",e._n(t))},expression:"formData.phoneCode"}})],1)],1):e._e(),e.user.userInfo.email?a("el-tab-pane",{attrs:{label:"通过邮箱找回",name:"email"}},[a("el-form-item",{attrs:{prop:"emailCode",label:"输入邮箱验证码"}},[a("el-input",{attrs:{placeholder:"请输入邮箱验证码"},model:{value:e.formData.emailCode,callback:function(t){e.$set(e.formData,"emailCode",e._n(t))},expression:"formData.emailCode"}})],1)],1):e._e()],1):e._e()],1):e._e(),"phone"==e.type?a("div",[a("el-form-item",{attrs:{prop:"phone",label:"输入手机号"}},[a("el-input",{attrs:{placeholder:"请输入"+(e.hasPhone?"":"新")+"手机号"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1)],1):e._e(),"email"==e.type?a("div",[a("el-form-item",{attrs:{prop:"email",label:(e.hasEmail?"":"新")+"邮箱"}},[a("el-input",{attrs:{placeholder:"请输入"+(e.hasEmail?"":"新")+"邮箱"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1)],1):e._e(),e.showSubmitBtn?a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.modify}},[e._v("提交")]),a("el-button",{on:{click:e.back}},[e._v("取消")])],1):e._e()],1)],1)},T=[],j=a("b775"),B={oldPassword:"",password:"",rePassword:"",oldSecurityCode:"",securityCode:"",reSecurityCode:"",phone:"",phoneCode:"",email:"",emailCode:""},z={name:"User-Modify",props:["type","user"],components:{},data:function(){return{formData:Object.assign({},B),formRules:{oldPassword:y["f"],password:y["f"],rePassword:y["f"],oldSecurityCode:y["d"],securityCode:y["d"],reSecurityCode:y["d"],phone:y["g"],email:y["e"]},loading:!1}},computed:{hasPhoneOrEmail:function(){return this.user.userInfo.mobile_phone||this.user.userInfo.email},hasPhone:function(){return this.user.userInfo.mobile_phone},hasEmail:function(){return this.user.userInfo.email},showSubmitBtn:function(){return!("find_security_code"==this.type&&!this.hasPhoneOrEmail)}},mounted:function(){},methods:{modify:function(){var e=this,t={},a=this.formData,n=this.type,r=decodeURIComponent(this.$route.query.r||"");this.$refs.form.validate((function(o){if(o){switch(n){case"security_code":if(a.securityCode!=a.reSecurityCode)return void e.$message.error("提款码不一致");if(e.user.userInfo.has_draw_passwd){if(a.oldSecurityCode==a.securityCode)return void e.$message.error("不能与原提款码一致");t.old_draw_passwd=a.oldSecurityCode,t.draw_passwd=a.securityCode}else t.key="draw_passwd",t.val=a.securityCode;break;case"password":if(a.password!=a.rePassword)return void e.$message.error("密码不一致");if(a.oldPassword==a.password)return void e.$message.error("不能与原密码一致");t.old_password=a.oldPassword,t.password=a.password;break;case"phone":t.key="mobile_phone",t.val=a.phone;break;case"email":t.key="email",t.val=a.email;break}if(t.type=n,e.loading)return;e.loading=!0,Object(w["i"])(t).then((function(t){e.loading=!1,200==t.code?(e.$message.success("提交成功"),e.$store.dispatch("getUserInfo"),e.formData=Object.assign({},B),e.$router.push({path:r||"/user/security"})):e.$message.error(t.info)}))}}))},back:function(){this.$router.push({path:"/user/security"})}}},R=z,E=(a("f8a1"),Object(p["a"])(R,O,T,!1,null,"6ae4d824",null)),$=E.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_bank"},[e.user.userInfo.has_draw_passwd?e._e():a("div",{staticClass:"form-group"},[a("p",{staticClass:"form-control-plaintext"},[e._v("\n                为了资金安全，请先设置\n                "),a("router-link",{staticClass:"ml-1",staticStyle:{"text-decoration":"underline"},attrs:{to:{path:"/user/modify/security_code",query:{r:"/user/bank"}}}},[e._v("\n                设置提款密码\n                ")])],1)]),e.user.userInfo.has_draw_passwd?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",[e.user.bankcardList.length?a("div",{staticStyle:{color:"#cc5151","font-size":"12px"}},[e._v("如需修改或删除银行卡请联系客服")]):e._e(),e._l(e.user.bankcardList,(function(t){return a("div",{key:t.id,staticClass:"bank_section rounded"},[a("div",[e._v(e._s(t.open_account_bank)+"（"+e._s(t.name)+"）")]),a("div",{staticClass:"number"},[e._v(e._s(e._f("cardNumberFilter")(t.bank_account)))])])})),e.user.bankcardList.length?e._e():a("a",{staticClass:"bank_section rounded add_new",attrs:{href:"javascript:;"},on:{click:e.bankCreate}},[e._v("\n                绑定银行卡\n            ")])],2)]):e._e(),a("el-dialog",{attrs:{title:("craete"==e.dialogType?"绑定":"编辑")+"银行卡",visible:e.addBankCardShow,width:"30%"},on:{"update:visible":function(t){e.addBankCardShow=t}}},[a("div",{staticClass:"new_card"},[a("el-form",{ref:"bankForm",attrs:{model:e.form,rules:e.formRules,"label-width":"100px","label-position":"top"}},[a("el-form-item",{attrs:{label:"开户银行",prop:"open_account_bank"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.open_account_bank,callback:function(t){e.$set(e.form,"open_account_bank",t)},expression:"form.open_account_bank"}},e._l(e.bank_list,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"开户城市",prop:"areaSelect"}},[a("el-cascader",{attrs:{"change-on-select":"","expand-trigger":"hover",options:e.areaOptions},model:{value:e.form.areaSelect,callback:function(t){e.$set(e.form,"areaSelect",t)},expression:"form.areaSelect"}})],1),a("el-form-item",{attrs:{label:"银行卡号",prop:"bank_account"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.form.bank_account,callback:function(t){e.$set(e.form,"bank_account",t)},expression:"form.bank_account"}})],1),a("el-form-item",{attrs:{label:"开户姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addBankCardShow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.addBankCardSubmit}},[e._v("提 交")])],1)])],1)},N=[],Q=(a("28a5"),{name:"User-Bank",props:["type","user"],components:{},filters:{cardNumberFilter:function(e){for(var t=String(e).split(""),a=[],n=0,r=t.length;n<r;n+=4)a.push(t.slice(n,n+4));return a.map((function(e){return e.join("")})).join(" ")}},data:function(){var e,t,a=function(e,t,a){t&&2==t.length?a():a(new Error("请选择开户城市"))};return t={dialogType:"create",loading:!1,delBankCardLoading:!1,addBankCardShow:!1,bank_list:["工商银行","建设银行","农业银行","民生银行","招商银行","交通银行","中国银行","邮政储蓄","中信银行","兴业银行","华夏银行","浦发银行","广发银行","平安银行","光大银行","农商银行","台州银行"],areaOptions:[]},Object(v["a"])(t,"loading",!1),Object(v["a"])(t,"form",{id:"",open_account_bank:"",areaSelect:[],bank_account:"",name:""}),Object(v["a"])(t,"formRules",(e={open_account_bank:[{required:!0,message:"请选择开户银行",trigger:"change"}],areaSelect:[{required:!0,validator:a,trigger:"change"}],bank_account:[{required:!0,message:"请选择银行卡号",trigger:"blur"}]},Object(v["a"])(e,"bank_account",y["a"]),Object(v["a"])(e,"name",y["b"]),e)),t},computed:{},mounted:function(){this.init()},methods:{init:function(){var e=this;this.user.bankcardList.length||this.getBankcardList(),0==this.areaOptions.length&&Object(g["a"])().then((function(t){if(200==t.code){var a=t.list;a.forEach((function(e){e.value=e.label=e.name,e.children=e.cities,e.children.forEach((function(e){e.value=e.label=e.name}))})),e.areaOptions=a}}))},getBankcardList:function(){var e=this;this.loading||(this.loading=!0,this.$store.dispatch("bankcardList").then((function(){e.loading=!1})))},bankCreate:function(){this.form={id:"",open_account_bank:"",areaSelect:[],bank_account:"",name:""},this.dialogType="create",this.addBankCardShow=!0},bankEdit:function(e){this.$alert("如需修改或删除银行卡请联系客服","",{confirmButtonText:"确定",callback:function(e){}})},bankDel:function(e){this.$alert("如需修改或删除银行卡请联系客服","",{confirmButtonText:"确定",callback:function(e){}})},addBankCardSubmit:function(){var e=this;this.$refs.bankForm.validate((function(t){if(t){var a={id:e.form.id,name:e.form.name,open_account_bank:e.form.open_account_bank,bank_account:e.form.bank_account,open_account_province:e.form.areaSelect[0]+"-"+e.form.areaSelect[1],open_account_address:"",id_card:""};if(e.loading)return;e.loading=!0,e.$store.dispatch("addBankcard",a).then((function(t){e.loading=!1,200==t.code?(e.$message.success(("create"==e.dialogType?"添加":"修改")+"成功"),e.form={id:"",open_account_bank:"",areaSelect:[],bank_account:"",name:""},e.$store.dispatch("bankcardList"),e.addBankCardShow=!1):e.$message.error(t.info)}))}}))}}}),U=Q,q=(a("5aab"),Object(p["a"])(U,H,N,!1,null,"827682de",null)),M=q.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_charge"},[e.emptyList?a("div",[e._v("\n        充值渠道暂时关闭\n    ")]):a("div",{staticClass:"charge_wrap"},[a("el-form",{ref:"mainForm",attrs:{model:e.formData,rules:e.formRules,"label-position":e.labelPosition,"label-width":e.labelWidth}},[a("el-form-item",{staticClass:"pay_methods",attrs:{label:"付款方式："}},[a("div",e._l(e.payChannelShowList,(function(t){return a("el-button",{key:t.id,class:{active:e.payChannel&&e.payChannel.id==t.id,sBtn:1},attrs:{size:"small"},on:{click:function(a){return e.payChannelChange(t)}}},[a("img",{attrs:{src:e._f("imgFormatter")(e.getChannelImg(t))}}),a("div",[e._v(e._s(t.name))]),a("i",{staticClass:"right"})])})),1)]),e.activityList.length&&e.payChannel.max>=200?a("el-form-item",{staticClass:"sc_check",attrs:{label:"优惠活动：",prop:"activityId"}},[a("el-radio-group",{attrs:{max:1},model:{value:e.formData.activityId,callback:function(t){e.$set(e.formData,"activityId",t)},expression:"formData.activityId"}},[e._l(e.activityList,(function(t){return a("span",{key:t.id,staticStyle:{"margin-right":"10px"}},[a("el-radio",{attrs:{label:t.id,name:"activityId"}},[e._v(e._s(t.name))]),"SC"==t.type?a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.dispatch("openScActivityDialog")}}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1)})),e._v("\n                     \n                    "),a("span",[a("el-radio",{attrs:{label:0,name:"activityId"}},[e._v("不参与")])],1)],2)],1):e._e(),a("el-form-item",{staticClass:"form_amount",attrs:{label:"存款金额：",prop:"amount"}},[e.payChannel&&1!=e.payChannel.id?a("div",[a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.formData.amount,callback:function(t){e.$set(e.formData,"amount",e._n(t))},expression:"formData.amount"}}),e.payChannel?a("span",{staticClass:"tip"},[e._v("单笔存款金额："+e._s(e.payChannel.min+" - "+e.payChannel.max)+" 元")]):e._e()],1):e._e(),a("div",{staticStyle:{"margin-top":"5px"}},e._l(e.amoutList,(function(t){return a("el-button",{class:{active:e.formData.amount==t,sBtn:1},attrs:{size:"small"},on:{click:function(a){return e.amountClick(t)}}},[e._v("\n                        "+e._s(t)+"\n                        "),a("i",{staticClass:"right"})])})),1)]),5==e.payChannel.id?a("el-form-item",{attrs:{label:"转账信息："}},[a("div",{staticClass:"pay_detail"},[a("div",[a("el-form",{attrs:{"label-width":"90px","label-position":"left"}},[a("div",{staticClass:"info"},[a("el-form-item",{attrs:{label:"转账银行："}},[a("span",[e._v(e._s(e.cardInfo.open_account_bank))])]),a("el-form-item",{attrs:{label:"转账户主："}},[a("span",[e._v(e._s(e.cardInfo.name))])]),a("el-form-item",{attrs:{label:"转账账号："}},[a("span",[e._v(e._s(e.cardInfo.bank_account))])]),a("el-form-item",{attrs:{label:"开户支行："}},[a("span",[e._v(e._s(e.cardInfo.open_account_address))])])],1)])],1)])]):e._e(),e.checkIsShowProp("qrcode")?a("el-form-item",{attrs:{label:"扫码支付："}},[a("div",{},[a("img",{staticStyle:{"max-width":"300px"},attrs:{src:e._f("imgFormatter")(e.payChannel.qrcodeImg)}})]),7==e.payChannel.id?a("div",{staticClass:"qrcode_tip"},[a("div",[a("span",{staticStyle:{color:"#f56c6c"}},[a("i",{staticClass:"el-icon-warning"}),e._v("\n                        请仔细阅读操作指南：")])]),a("p",[e._v("1. 微信扫码进入小程序，购买充值金额的对应产品，流程与淘宝购物基本一致；")]),a("p",[e._v("2. 第一次使用时需要填写姓名、地址、手机号等信息，任意填写即可，不需要真实信息；")]),a("p",[e._v("3. 购买完成后，返回平台充值页面，在小程序码下方填写您注册微信的手机号，然后提交即可。")]),a("p",[e._v("4. 在填写地址等信息时候，可在该页面将您填写的地址设置为默认地址，下次使用即可不需要再次填写")])]):e._e()]):e._e()],1),a("el-form",{ref:"nameForm",attrs:{model:e.formData,rules:e.formRules,"label-position":e.labelPosition,"label-width":e.labelWidth}},[e.checkIsShowProp("name")?a("el-form-item",{attrs:{label:"存款姓名：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入存款姓名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v("\n                 \n                "),e.historyName.length?a("span",{staticStyle:{"font-size":"12px",color:"#d0c7c7"}},[e._v("\n                    历史姓名："),e._l(e.historyName,(function(t,n){return a("a",{key:n,staticStyle:{"margin-right":"5px"},attrs:{href:"javascript:;"},on:{click:function(a){e.formData.name=t,e.$refs["nameForm"].validateField("name")}}},[e._v(e._s(t))])}))],2):e._e()],1):e._e()],1),a("el-form",{ref:"codeForm",attrs:{model:e.formData,rules:e.formRules,"label-position":e.labelPosition,"label-width":e.labelWidth}},[e.checkIsShowProp("code")?a("el-form-item",{attrs:{label:"支付凭证后5位：",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入支付凭证或支付订单后5位"},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}})],1):e._e()],1),a("el-form",{ref:"phoneForm",attrs:{model:e.formData,rules:e.formRules,"label-position":e.labelPosition,"label-width":e.labelWidth}},[e.checkIsShowProp("phone")?a("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入微信绑定的手机号"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1):e._e()],1),a("el-form",{attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v("提交")])],1)],1)],1),a("el-dialog",{staticClass:"pay_status_dialog",attrs:{title:e.paymentInfo.isNew?"扫描二维码支付":"您有未完成的支付订单",visible:e.paymentInfo.payStatusDialogVisible,width:"700px"},on:{"update:visible":function(t){return e.$set(e.paymentInfo,"payStatusDialogVisible",t)}}},[a("div",{staticClass:"text"},[e.paymentInfo.trade_no?a("p",{staticStyle:{"font-size":"12px","padding-bottom":"0 0 5px"}},[e._v("订单号："+e._s(e.paymentInfo.trade_no))]):e._e(),e.paymentInfo.isNew||e.paymentInfo.showCode?e._e():a("p",{staticStyle:{margin:"15px 0 0"}},[a("a",{staticStyle:{"padding-top":"10px"},attrs:{href:"javascript:;"},on:{click:function(t){e.paymentInfo.showCode=!0}}},[e._v("继续支付")])]),e.paymentInfo.isNew||e.paymentInfo.showCode?a("div",[e.paymentInfo.redirectUrl?a("img",{attrs:{src:e._f("imgFormatter")(e.paymentInfo.redirectUrl),width:"256"}}):e._e(),a("p",{staticStyle:{color:"#FF9800"}},[e._v("支付金额："),a("span",[e._v("￥"+e._s(e.paymentInfo.realAmonut))])])]):e._e(),a("p",{staticClass:"tips"},[e._v("请准确支付指定金额，支付成功后客服需要审核 1-10 分钟，请耐心等待 ")])]),!e.paymentInfo.isNew&&!e.paymentInfo.showCode||e.payStatusDialogShowBtn?a("div",{staticClass:"btn_group"},[a("el-button",{attrs:{type:"success"},on:{click:e.dialogPaySubmit}},[e._v("我已经支付成功")]),a("el-button",{attrs:{loading:e.revokeLoading},on:{click:e.revokePayment}},[e._v("撤销订单")])],1):e._e()]),a("el-dialog",{staticClass:"redirect_pay_dialog",attrs:{title:"订单已提交",visible:e.paymentInfo.redirectDialogVisible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.paymentInfo,"redirectDialogVisible",t)}}},[a("div",{staticClass:"text"},[e.paymentInfo.trade_no?a("p",{staticStyle:{"font-size":"16px",padding:"0 0 15px"}},[e._v("订单号："+e._s(e.paymentInfo.trade_no))]):e._e()]),a("div",{staticClass:"btn_group"},[a("el-button",{attrs:{type:"success"},on:{click:e.payFinished}},[e._v("我已经支付成功")]),a("el-button",{attrs:{loading:e.revokeLoading},on:{click:function(t){e.paymentInfo.redirectDialogVisible=!1}}},[e._v("取消")])],1)])],1)},V=[];function X(e,t,a,n){var r=void 0!==window.screenLeft?window.screenLeft:screen.left,o=void 0!==window.screenTop?window.screenTop:screen.top,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=s/2-a/2+r,c=i/2-n/2+o,u=window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width="+a+", height="+n+", top="+c+", left="+l);window.focus&&u.focus()}var Y={name:"User-Charge",props:["type","user"],components:{},data:function(){var e=this,t="sybet"==this.$route.query.test,a=function(a,n,r){if(t)r();else{var o=Number(e.payChannel.min||0),s=Number(e.payChannel.max||0);n<o?r(new Error("".concat(e.payChannel.name," 最低充值 ").concat(o," 元"))):s&&n>s?r(new Error("".concat(e.payChannel.name," 最高 ").concat(s," 元"))):r()}};return{formData:{amount:"",name:"",acount:"",code:"",activityId:"",phone:""},payChannel:"",labelPosition:"left",labelWidth:"130px",activityList:[],formRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],acount:[{required:!0,message:"请输入账号",trigger:"blur"}],amount:[{required:!0,message:"请输入金额",trigger:"blur"},{type:"number",message:"金额必须为数字",trigger:"blur"},{required:!0,validator:a,trigger:"blur"}],code:[{required:!0,message:"请输入后五位数字",trigger:"blur"},{validator:function(e,t,a){/^\d{5}$/.test(t)?a():a(new Error("请输入后五位数字"))},trigger:"blur"}],phone:y["g"]},loading:!1,dataLoading:!0,payChannelList:{},cardInfo:{},emptyList:!1,revokeLoading:!1,paymentInfo:{realAmonut:0,isNew:!0,showCode:!0,pay_id:"",order_id:"",trade_no:"",redirectUrl:"",payStatusDialogVisible:!1,redirectDialogVisible:!1},payStatusDialogShowBtn:!1}},computed:{payChannelShowList:function(){var e=[];for(var t in this.payChannelList)e=e.concat(this.payChannelList[t]);return e},amoutList:function(){var e=this.payChannel?this.payChannel.max:9999999999,t=this.payChannel?this.payChannel.min:0,a=[20,50,100,500,1e3,2e3,5e3],n=[];return a.forEach((function(a){a<=e&&a>=t&&n.push(a)})),n},historyName:function(){var e=window.localStorage.getItem("historyName");return e?JSON.parse(e):[]}},watch:{paymentInfo:function(e){var t=this;e.payStatusDialogVisible?setTimeout((function(){t.payStatusDialogShowBtn=!0}),5e3):this.payStatusDialogShowBtn=!1}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.dataLoading=!0,Object(g["c"])({agent_id:this.user.userInfo.agent_id}).then((function(t){if(e.dataLoading=!1,200==t.channel.code){var a=t.channel.list;for(var n in 0==a.length&&(e.emptyList=!0),e.payChannelList=a,a)e.payChannel||a[n].length&&e.payChannelChange(a[n][0])}200==t.card.code&&(e.cardInfo=t.card.list)})),this.checkPayment()},checkPayment:function(){var e=this;Object(w["k"])().then((function(t){return 200==t.code&&(e.activityList=t.list.items,e.activityList.forEach((function(t){"SC"==t.type&&(e.formData.activityId=t.id)}))),t})).then((function(){}))},getChannelImg:function(e){var t={1:"/images/2019/08/15/fe71b37f-7599-4d8b-9955-6d9048900549.png",2:"/images/2019/08/15/7289c4aa-3a0a-4ee2-955b-d4609084147b.png",3:"/images/2019/08/15/f18aee17-a925-42e6-8091-292452e69525.png",4:"/images/2019/08/15/b493c931-8d21-4825-9c69-b70216b02d92.png"};return t[e.pay_type]||""},payChannelChange:function(e){this.payChannel=e},amountClick:function(e){this.formData.amount=e,this.$refs["mainForm"].validateField("amount")},submitForm:function(){var e=this;if(!this.loading){var t=function(){e.$refs["mainForm"].validate((function(t){if(t){var a={pay_channel:e.payChannel.pay_type,pay_id:e.payChannel.id,pay_key:e.payChannel.key,amount:e.formData.amount},n=e.formData.activityId;e.activityList.length&&n&&e.payChannel.max>=200&&e.activityList.forEach((function(e){e.id==n&&(a.activity_id=n)}));var r=e.$route.query.test;if("sybet"==r)a.test=r;else{var o=Number(e.payChannel.min||0),s=Number(e.payChannel.max||0);if(a.amount<o)return void e.$message.error("最低充值 ".concat(o," 元"));if(s&&a.amount>s)return void e.$message.error("最高 ".concat(s," 元"))}5==a.pay_id?(a.in_account=e.cardInfo.bank_account,a.in_name=e.cardInfo.name,a.in_branch_name=e.cardInfo.open_account_bank,a.in_subbranch_name=e.cardInfo.open_account_address,a.name=e.formData.name):3==a.pay_id?(a.name=e.formData.name,a.code=e.formData.code):4==a.pay_id?(a.name=e.formData.name,a.code=e.formData.code):7==a.pay_id&&(a.acount=e.formData.phone),a.name&&e.saveHistoryName(a.name);var i=e.payChannel.urlType;e.loading=!0,Object(w["j"])(a).then((function(t){e.loading=!1,200==t.code?"qrcode"==i?e.paymentInfo={redirectUrl:t.list.qrurl,order_id:t.list.order_id,trade_no:t.list.trade_no,realAmonut:a.amount,isNew:!0,showCode:!0,payStatusDialogVisible:!0}:"redirect"==i?t.list.qrurl?(e.paymentInfo.pay_id=t.list.pay_id,e.paymentInfo.order_id=t.list.order_id,e.paymentInfo.trade_no=t.list.trade_no,e.paymentInfo.redirectDialogVisible=!0,X(t.list.qrurl)):e.$message.error("二维码为空"):"check"==i&&(e.$message.success("订单提交成功，请等待客服审核"),e.$router.push({path:"/user/transfer"})):e.$message.error(t.info)}))}}))},a=[];if(5==this.payChannel.id?a.push("nameForm"):4==this.payChannel.id?(a.push("nameForm"),a.push("codeForm")):3==this.payChannel.id&&(a.push("nameForm"),a.push("codeForm")),a.length){var n=!0;a.forEach((function(t){e.$refs[t].validate((function(e){e||(n=!1)}))})),n&&t()}else t()}},dialogPaySubmit:function(){this.$message.success("提交成功，请等待客服审核"),this.$router.push({path:"/user/transfer"})},payFinished:function(){var e=this;Object(w["d"])({pay_id:this.paymentInfo.pay_id,pay_channel:this.payChannel.id}).then((function(t){e.paymentInfo.redirectDialogVisible=!1,e.$router.push({path:"/user/transfer"})}))},revokePayment:function(){var e=this;this.$confirm("确认撤销此支付订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={order_id:e.paymentInfo.order_id};e.revokeLoading||(e.revokeLoading=!0,Object(w["m"])(t).then((function(t){e.revokeLoading=!1,200==t.code?(e.$message.success("订单撤销成功"),e.paymentInfo.payStatusDialogVisible=!1):e.$message.error(t.info)})))})).catch((function(){}))},saveHistoryName:function(e){var t=window.localStorage.getItem("historyName");t=t?JSON.parse(t):[],-1==t.indexOf(e)&&(t.push(e),window.localStorage.setItem("historyName",JSON.stringify(t)))},checkIsShowProp:function(e){var t=this.payChannel;if(!t)return!1;var a=t.id;return"qrcode"==e?(3==a||4==a||7==a)&&t.qrcodeImg:"name"==e?3==a||4==a||5==a:"code"==e?3==a||4==a:"phone"==e?7==a:void 0}}},J=Y,G=(a("aa0c"),Object(p["a"])(J,W,V,!1,null,null,null)),K=G.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_withdraw"},[e.user.userInfo.has_draw_passwd?e.tradeLoading?e._e():a("div",[e.highoddsInfo?a("div",{staticStyle:{"padding-bottom":"10px",color:"#ea3535","font-size":"16px"},domProps:{innerHTML:e._s(e.highoddsInfo)}}):e._e(),e.hasTradeList?a("div",{staticStyle:{padding:"15px 0"}},[e._v("\n            您有待处理中的取款，请耐心等待客服审核，前往查看 "),a("router-link",{attrs:{to:"/user/transfer"}},[e._v("资金列表")])],1):a("div",[a("el-form",{ref:"withdrawForm",attrs:{model:e.formData,rules:e.formRules,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"钱包余额："}},[a("span",{staticClass:"common_money_red"},[e._v("\n                        ￥"+e._s(e.user.userInfo.total_money)+"\n                    ")])]),e.user.bankcardList.length?a("el-form-item",{attrs:{label:"提款金额：",prop:"amount"}},[a("el-input",{ref:"amount",attrs:{placeholder:"请输入提款金额，最低提现100元"},model:{value:e.formData.amount,callback:function(t){e.$set(e.formData,"amount",e._n(t))},expression:"formData.amount"}})],1):e._e(),a("el-form-item",{attrs:{label:"提款银行卡：",prop:"bankcard_id"}},[a("div",[e.user.bankcardList.length?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.bankcard_id,callback:function(t){e.$set(e.formData,"bankcard_id",t)},expression:"formData.bankcard_id"}},e._l(e.user.bankcardList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.open_account_bank+", "+e.bank_account+", "+e.name,value:e.id}})})),1):e._e(),e.user.bankcardList.length?e._e():a("router-link",{attrs:{to:"/user/info?t=bank"}},[e._v("请先绑定银行卡")])],1)]),e.user.bankcardList.length?a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.checkInfo}},[e._v("提交")]):e._e()],1)],1),a("el-dialog",{staticClass:"check_dialog",attrs:{title:"提示",visible:e.checkDialogVisible,width:"50%"},on:{"update:visible":function(t){e.checkDialogVisible=t}}},[a("h3",[a("i",{staticClass:"el-icon-warning"}),e._v("\n                您的流水未到达提款要求，如需提款请联系客服\n\n                ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkList.items}},[a("el-table-column",{attrs:{prop:"created_at",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e.formatTime(t.row.created_at))+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e.checkType[t.row.type])+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"recharge_price",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        ￥"+e._s(t.row.recharge_price)+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"recharge_price",label:"存款稽核点"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.row.stream_price)+" / "+e._s(t.row.recharge_price*t.row.check)+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"is_ok",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"Y"==t.row.is_ok?"success":"danger"}},[e._v("\n                            "+e._s("Y"==t.row.is_ok?"满足":"未满足")+"\n                        ")])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.checkDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1):a("div",{staticClass:"form-group"},[a("p",{staticClass:"form-control-plaintext"},[e._v("\n                为了资金安全，请先设置\n                "),a("router-link",{staticClass:"ml-1",staticStyle:{"text-decoration":"underline"},attrs:{to:{path:"/user/info?t=secure"}}},[e._v("\n                设置提款密码\n                ")])],1)])])},ee=[],te=100,ae={name:"User-Withdraw",props:["type","user","product"],components:{},data:function(){return{formData:{bankcard_id:"",amount:""},formRules:{amount:[{required:!0,message:"金额不能为空",trigger:"blur"},{type:"number",message:"金额必须为数字",trigger:"blur"},{type:"number",min:100,message:"最低提现"+te+"元",trigger:"blur"},{type:"number",max:Number(this.user.userInfo.total_money),message:"不能超过您的钱包余额",trigger:"blur"}],bankcard_id:[{required:!0,message:"银行不能为空",trigger:"blur"}]},loading:!1,checkDrawLoading:!1,checkDialogVisible:!1,checkList:{},highoddsInfo:null,checkType:{recharge:"充值",stream:"返水",activity:"活动",highodds:"高赔率活动稽核"},tradeLoading:!0,hasTradeList:!1}},computed:{},mounted:function(){this.init()},methods:{init:function(){var e=this;this.user.bankcardList.length?this.formData.bankcard_id=this.user.bankcardList[0].id:this.$store.dispatch("bankcardList").then((function(){e.user.bankcardList.length&&(e.formData.bankcard_id=e.user.bankcardList[0].id)})),this.checkTrade()},checkTrade:function(){var e=this,t={type:2,page:1,count:1,status:0};this.tradeLoading=!0,Object(w["n"])(t).then((function(t){e.tradeLoading=!1,200==t.code&&(e.hasTradeList=!!t.list.data.length)}))},showCheckDrawPassword:function(){var e=this;this.$refs.withdrawForm.validate((function(t){if(t){if(e.checkDrawLoading)return;e.$prompt("请输入6位提款密码","提示",{confirmButtonText:"确定",inputType:"password",cancelButtonText:"取消",inputPattern:/[0-9]{6}/,inputErrorMessage:"提款密码格式不正确",beforeClose:function(t,a,n){if("confirm"===t){a.confirmButtonLoading=!0,a.confirmButtonText="提交中...",e.checkDrawLoading=!0;var r=a.$refs.input.value;e.submitForm(r,(function(){n()}),(function(){a.confirmButtonLoading=!1,a.confirmButtonText="提交"}))}else n()}}).then((function(e){e.value})).catch((function(){}))}}))},submitForm:function(e,t,a){var n=this;this.loading||this.$refs.withdrawForm.validate((function(r){if(r){var o={bankcard_id:n.formData.bankcard_id,amount:n.formData.amount,draw_passwd:e};if(o.amount>n.user.userInfo.total_money)return void n.$message.error("不能超过您的总额");n.loading=!0,Object(w["q"])(o).then((function(e){200==e.code?(t&&t(),n.$message.success("订单提交成功"),n.$router.push({path:"/user/transfer"}),n.loading=!1):1004==e.code?n.checkInfo():(a&&a(),n.$message.error(e.info),n.loading=!1)}))}}))},formatTime:function(e){return Object(c["b"])(e)},checkInfo:function(){var e=this;this.loading||this.$refs.withdrawForm.validate((function(t){t&&(e.loading=!0,Object(w["c"])().then((function(t){e.loading=!1,200==t.code?t.list.items.length>0?(e.checkList=t.list,e.checkDialogVisible=!0):e.showCheckDrawPassword():e.$message.error(t.info)})))}))}}},ne=ae,re=(a("6584"),Object(p["a"])(ne,Z,ee,!1,null,"439a7601",null)),oe=re.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_transfer"},[a("div",{staticClass:"filter"},[a("label",[e._v("类型：")]),a("el-select",{staticClass:"type_select",attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("  \n        "),a("label",[e._v("日期：")]),a("el-date-picker",{attrs:{size:"small",type:"daterange",align:"left","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":{shortcuts:e.pickerOptions}},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}}),e._v("\n         "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.filterSubmit}},[e._v("筛选")]),a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-refresh"},on:{click:e.requestTrade}},[e._v("刷新")])],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",size:"small",data:e.tradeList.data}},[a("el-table-column",{attrs:{prop:"trade_no",label:"订单号",width:"220"}}),a("el-table-column",{attrs:{prop:"type_text",label:"类型"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{color_green:e.isAmountInput(t.row),color_red:!e.isAmountInput(t.row)}},[0==t.row.commission?a("span",[e._v(e._s((e.isAmountInput(t.row)?"+":"-")+"￥")+e._s(e._f("moneyToFixed")(t.row.amount)))]):e._e(),0!=t.row.commission?a("span",[e._v(e._s((e.isAmountInput(t.row)?"+":"-")+"￥"+Number(t.row.amount).toFixed(2)))]):e._e(),0!=t.row.commission?a("div",[e._v("(手续费"+e._s(e._f("moneyToFixed")(t.row.commission))+")")]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"current_total",label:"钱包余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.status?a("span",[e._v("\n                        ￥"+e._s(e._f("moneyToFixed")(t.row.current_total))+"\n                    ")]):a("span",[e._v("\n                        -\n                    ")])]}}])}),a("el-table-column",{attrs:{prop:"acount_code_text",label:"交易相关",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"info_row"},[e._v("\n                        "+e._s(e.getAccoutCodeText(t.row))+"\n                        "),t.row.desc?a("p",[e._v("备注："+e._s(t.row.desc))]):e._e()])]}}])}),a("el-table-column",{attrs:{prop:"status_text",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:e.getType(t.row.status),effect:"dark"}},[e._v(e._s(t.row.status_text))])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建日期",width:"115"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.parseTime(t.row.created_at,"{m}-{d} {h}:{i}:{s}"))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"modify_at",label:"修改日期",width:"115"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.parseTime(t.row.modify_at,"{m}-{d} {h}:{i}:{s}"))+"\n                ")]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":e.tradeList.total_pages},on:{"current-change":e.pageChange}})],1)])},ie=[],le={name:"User-Transfer",props:["type","app","user","product"],components:{},data:function(){return{tradeList:{},loading:!1,formData:{date:"",type:"0",page:1},typeOptions:[{value:"0",label:"所有类型"},{value:"1",label:"充值"},{value:"2",label:"提现"},{value:"3",label:"钱包转入"},{value:"4",label:"钱包转出"},{value:"5",label:"系统上分"},{value:"6",label:"系统返水发放"},{value:"7",label:"代理返水发放"},{value:"8",label:"系统减分"},{value:"9",label:"活动赠送"},{value:"18",label:"代理转入"}]}},computed:{filterProduct:function(){var e=this,t=function(t){var a=!1;return e.product.navList.forEach((function(e){e.list&&e.list.forEach((function(n){n.id==t&&"Y"==e.is_show&&(a=!0)}))})),a},a=this.product.list.filter((function(e){return"Y"==e.is_show&&t(e.id)}));return a}},mounted:function(){this.init()},methods:{init:function(){this.requestTrade();var e=this.filterProduct.map((function(e){return e.id})).join(",");this.$store.dispatch("productBalance",{product_ids:e})},requestTrade:function(){var e=this;if(!this.loading){var t={type:this.formData.type,page:this.formData.page};this.formData.date&&2==this.formData.date.length&&(t.start_at=parseInt(+new Date(this.formData.date[0]))/1e3,t.end_at=parseInt(+new Date(this.formData.date[1]))/1e3),this.loading=!0,Object(w["n"])(t).then((function(t){e.loading=!1,200==t.code?e.tradeList=t.list:10002==t.code&&(e.tradeList={})}))}},isAmountInput:function(e){var t=Number(e.type);return[1,3,5,6,7,9,18].indexOf(t)>-1},getAccoutCodeText:function(e){var t="";switch(e.type){case"1":t=e.acount.type_text+"充值";break;case"2":t="提现至银行卡号："+e.acount.acount;break;case"3":t=e.product.name+" > 钱包";break;case"4":t="钱包 > "+e.product.name;break;case"5":t="系统上分"+(e.sub_type_text?"-"+e.sub_type_text:"");break;case"6":t="系统返水发放";break;case"7":t="代理返水发放";break;case"8":t="系统减分";break;case"9":t=e.activity.name;break;case"18":t="代理转入";break}return t},filterSubmit:function(){this.requestTrade()},pageChange:function(e){this.formData.page=e,this.requestTrade()},getType:function(e){var t;return 0==e||1==e?t="warning":2==e?t="success":3==e||4==e?t="danger":5!=e&&6!=e||(t="info"),t},parseTime:function(e,t){return Object(c["i"])(e,t)}}},ce=le,ue=(a("d513"),a("6499"),Object(p["a"])(ce,se,ie,!1,null,"da1776aa",null)),de=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"user_exchange",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",[a("div",{staticClass:"section_head"},[a("span",{staticClass:"sp_m"},[e._v("\n                总资产："),a("span",{staticClass:"money"},[e._v("￥"+e._s(e.getTotalMoney()))])]),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"section_content"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"top"},[a("div",[e._v("\n                                钱包余额 "),a("span",{staticClass:"money"},[e._v("￥"+e._s(e.getMoney(0)))])]),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"bottom"},[a("div",[a("el-button",{attrs:{type:"text",icon:"fas fa-undo",loading:e._getLoading(0)},on:{click:function(t){return e.openForm(0,3)}}},[e._v("一键全部回收")])],1)])])],1),e._l(e.filterProduct,(function(t){return a("el-col",{key:t.id,attrs:{span:6}},[a("el-card",{class:"Y"==t.is_fix?"fixed":"",attrs:{shadow:"hover"}},[a("div",{staticClass:"top"},[a("div",[t.icon?a("img",{staticStyle:{"max-width":"40px"},attrs:{src:e._f("imgFormatter")(t.icon),height:"40"}}):e._e()]),a("div",[e._v("\n                                "+e._s(t.name)+" "),a("span",{staticClass:"money"},[e._v("￥"+e._s(e.getMoney(t.id)))]),"N"==t.is_fix?a("a",{staticClass:"product_reload",attrs:{href:"javascript:;"},on:{click:function(a){return e.productReload(t.id)}}},[a("i",{staticClass:"el-icon-refresh"})]):e._e()]),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"bottom"},["N"==t.is_fix?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openForm(t.id,2)}}},[e._v("转入")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openForm(t.id,1)}}},[e._v("转出")]),a("el-button",{attrs:{type:"text",loading:e._getLoading(t.id)},on:{click:function(a){return e.openForm(t.id,3)}}},[e._v("回收")])],1):a("div",[a("el-button",{attrs:{type:"text"}},[e._v("接口维护中")])],1)])])],1)}))],2)],1)]),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("p",[a("span",{domProps:{innerHTML:e._s(e.fromText)}}),a("i",{staticClass:"fas fa-long-arrow-alt-right",staticStyle:{margin:"0 14px"}}),a("span",{domProps:{innerHTML:e._s(e.toText)}})]),a("el-form",{ref:"form",staticClass:"trans_form",attrs:{model:e.formData,rules:e.formRules,"label-position":"top","label-width":"80px"}},[0==e.getMoney(2==e.formData.type?0:e.formData.product_id)?a("span",[e._v("余额不足，无法进行操作")]):e._e(),e.getMoney(2==e.formData.type?0:e.formData.product_id)>0?a("el-form-item",{attrs:{label:"转"+(2==e.formData.type?"入":"出")+"金额",prop:"amount"}},[a("a",{staticClass:"all",attrs:{href:"javascript:;"},on:{click:function(t){e.formData.amount=e.getMoney(2==e.formData.type?0:e.formData.product_id)}}},[e._v("全部转"+e._s(2==e.formData.type?"入":"出"))]),a("el-input",{attrs:{type:"number",placeholder:"请输入金额"},model:{value:e.formData.amount,callback:function(t){e.$set(e.formData,"amount",t)},expression:"formData.amount"}})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e.getMoney(2==e.formData.type?0:e.formData.product_id)>0?a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submitForm}},[e._v("确定")]):e._e()],1)],1)],1)},pe=[],fe=2e3,_e={name:"User-Exchange",props:["type","user","product"],components:{},data:function(){var e=function(e,t,a){""==t?a(new Error("金额不能为空")):isNaN(parseFloat(t))?a(new Error("金额必须为数字")):parseFloat(t)<1?a(new Error("最少转入1元")):a()};return{userMoney:{id:0,name:"钱包余额",icon:"",money:this.user.userInfo.total_money},pageLoading:!1,submitLoading:!1,btnLoading:{},dialogVisible:!1,fromText:"",toText:"",formData:{type:0,amount:"",product_id:0},formRules:{amount:[{require:!0,validator:e,trigger:"blur"}]}}},computed:{filterProduct:function(){var e=this,t=function(t){var a=!1;return e.product.navList.forEach((function(e){e.list&&e.list.forEach((function(n){n.id==t&&"Y"==e.is_show&&(a=!0)}))})),a},a=this.product.list.filter((function(e){return"Y"==e.is_show&&t(e.id)}));return a}},mounted:function(){this.init()},methods:{init:function(){this.reload()},reload:function(e){var t=this;if(!this.pageLoading){this.pageLoading=!0;var a=this.filterProduct.map((function(e){return e.id})).join(",");this.$store.dispatch("productBalance",{product_ids:a}).then((function(){setTimeout((function(){t.pageLoading=!1}),500)}))}},productReload:function(e){var t=this;this.pageLoading||(this.pageLoading=!0,this.$store.dispatch("productBalanceSync",{product_ids:e}).then((function(e){t.pageLoading=!1,200==e.code?(t.$message.success("操作成功，同步余额已受理，请稍后查看金额"),setTimeout((function(){t.reload()}),1500)):t.$message.error(e.info)})))},getMoney:function(e){var t=0;if(0==e)t=this.user.userInfo.total_money;else for(var a in this.product.balance)a==e&&(t=this.product.balance[a].money);return Number(t).toFixed(2)},getTotalMoney:function(){var e=Number(this.user.userInfo.total_money);for(var t in this.product.balance)0!==Number(t)&&(e+=Number(this.product.balance[t].money));return e.toFixed(2)},submitForm:function(){var e=this;this.submitLoading||this.$refs.form.validate((function(t){if(t){var a=Object.assign({},e.formData);a.amount=Number(a.amount);var n=2==a.type?e.getMoney(0):e.getMoney(a.product_id);if(a.amount>n)return void e.$message.error("余额不足");e.submitLoading=!0,Object(w["o"])(a).then((function(t){e.submitLoading=!1,200==t.code?(e.$message({message:"操作成功，转账已受理，请稍后查看金额",type:"success",customClass:"long",duration:3e3,center:!0}),setTimeout((function(){e.reload(),setTimeout((function(){e.reload()}),fe)}),fe),e.dialogVisible=!1):e.$message.error(t.info)}))}}))},openForm:function(e,t){var a=this;if(this.formData.type=t,this.formData.product_id=e,this.formData.amount="",3!=t){var n=this.product.list.filter((function(t){return t.id==e}));if(n.length){n=n[0];var r=n.name+' <span class="money">￥'+this.getMoney(e)+"</span>",o='钱包余额 <span class="money">￥'+this.getMoney(0)+"</span>";2==t?(this.toText=r,this.fromText=o):(this.fromText=r,this.toText=o),this.dialogVisible=!0}}else{if(this._getLoading(e))return;this.$confirm("确认全部回收吗?","提示",{type:"warning"}).then((function(){var n={type:t,product_id:e||a.filterProduct.map((function(e){return e.id})).join(",")};a._setLoading(e,!0),Object(w["o"])(n).then((function(t){a._setLoading(e,!1),200==t.code?(a.$message({message:"操作成功，转账已受理，请稍后查看金额",type:"success",customClass:"long",duration:3e3,center:!0}),setTimeout((function(){a.reload(),setTimeout((function(){a.reload()}),fe)}),fe)):a.$message.error(t.info)}))})).catch((function(){}))}},_getLoading:function(e){return this.btnLoading[e]},_setLoading:function(e,t){var a=Object.assign({},this.btnLoading);a[e]=t,this.btnLoading=a}}},he=_e,be=(a("94a0"),Object(p["a"])(he,me,pe,!1,null,null,null)),ve=be.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_order"},[a("div",{staticClass:"filter"},[a("label",[e._v("游戏类型：")]),a("el-select",{staticClass:"type_select",attrs:{size:"small",clearable:"",placeholder:"选择游戏"},model:{value:e.formData.product_id,callback:function(t){e.$set(e.formData,"product_id",t)},expression:"formData.product_id"}},e._l(e.productListFilter,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v("  \n        "),a("label",[e._v("日期：")]),a("el-date-picker",{staticClass:"date_picker",attrs:{size:"small",type:"daterange",align:"right","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.datePickerOptions},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}}),e._v("\n         "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.filterSubmit}},[e._v("筛选")]),a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:e.filterSubmit}},[e._v("刷新")])],1),e.totalData?a("div",{staticClass:"total_data"},[e._v("\n        总计：投注额：￥"+e._s(e.totalData.cathectic_total_price)+"，有效投注额：￥"+e._s(e.totalData.vaild_cathectic_total_price)+"，派彩：￥"+e._s(e.totalData.winning_total_price)+"，笔数："+e._s(e.totalData.total_order)+"\n    ")]):e._e(),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{size:"small",data:e.list.items,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{type:"expand",width:"1px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("GameDetail",{attrs:{data:t.row,detail:t.row.detail,statusText:e.statusOptions[t.row.status]}})]}}])}),a("el-table-column",{attrs:{prop:"order_sn",width:"210",label:"订单号"}}),a("el-table-column",{attrs:{label:"游戏名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.product_name+"-"+t.row.game_name)+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"有效投注额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s("￥"+t.row.vaild_cathectic_total_price)+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"派彩"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(3==t.row.status?"￥"+t.row.winning_total_price:"-")+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"损益"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(3==t.row.status?"￥"+t.row.balance_total_price:"-")+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",effect:"dark",type:e.statusClassOptions[t.row.status]}},[e._v(e._s(e.statusOptions[t.row.status]))])]}}])}),a("el-table-column",{attrs:{label:"投注时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.formatTime(t.row.begintime))+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"detail_btn",attrs:{loading:e.detailLoading[t.row.id],type:"text"},on:{click:function(a){return e.showDetail(t.row)}}},[e._v("详细")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":e.list.total_pages},on:{"current-change":e.pageChange}})],1)])},ye=[];function we(e){return j["a"].get("/order/index",e)}function ke(e){return j["a"].get("/order/detail",{order_sn:e})}var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"game_detail"},[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"投注额"}},[a("div",[e._v("￥"+e._s(e.data.cathectic_total_price))])]),a("el-form-item",{attrs:{label:"有效投注额"}},[a("div",[e._v("￥"+e._s(e.data.vaild_cathectic_total_price))])]),a("el-form-item",{attrs:{label:"派彩"}},[a("div",[e._v("\n                "+e._s(3==e.data.status?"￥"+e.data.winning_total_price:"-")+"\n            ")])]),a("el-form-item",{attrs:{label:"损益"}},[a("div",[e._v("\n                "+e._s(3==e.data.status?"￥"+e.data.balance_total_price:"-")+"\n            ")])]),a("el-form-item",{attrs:{label:"投注时间"}},[a("div",[e._v("\n                "+e._s(e.formatTime(e.data.begintime))+"\n            ")])]),a("el-form-item",{attrs:{label:"派彩时间"}},[3==e.data.status?a("div",[e._v("\n                "+e._s(e.formatTime(e.data.endtime))+"\n            ")]):e._e()]),e.detail.game_detail.betResult?a("el-form-item",{attrs:{label:"注单结果"}},[a("div",[e._v(e._s(e.detail.game_detail.betResult))])]):e._e(),e.detail.number?a("el-form-item",{attrs:{label:"注单期号"}},[a("div",[e._v(e._s(e.detail.number))])]):e._e(),e.detail.game_detail.number?a("el-form-item",{attrs:{label:"注单期号"}},[a("div",[e._v(e._s(e.detail.game_detail.number))])]):e._e(),e.detail.game_detail.betContent?a("el-form-item",{attrs:{label:"注单内容"}},[e.detail.game_detail.betContent instanceof Array?e._e():a("div",[e._v("\n                "+e._s(e.detail.game_detail.betContent)+"\n            ")]),e.detail.game_detail.betContent instanceof Array&&e.detail.game_detail.betContent.length?a("div",[9==e.data.product_id?a("div",[e._v(e._s("PAR"==e.detail.game_detail.game?"过关":"泰式过关")+"：")]):e._e(),e._l(e.detail.game_detail.betContent,(function(t,n){return a("div",{key:n},[e.detail.game_detail.betContent.length>1?a("div",[e._v(e._s(n+1)+"）")]):e._e(),t instanceof Array?e._l(t,(function(t,n){return a("div",{key:n},[e._v(e._s(t))])})):a("div",[e._v(e._s(t))])],2)}))],2):e._e()]):e._e(),e.detail.game_detail.betOdds?a("el-form-item",{attrs:{label:"注单赔率"}},[a("div",[e._v(e._s(e.detail.game_detail.betOdds))])]):e._e(),e.detail.game_detail.awardContent?a("el-form-item",{attrs:{label:"开奖内容"}},[a("div",[e._v(e._s(e.detail.game_detail.awardContent))])]):e._e(),e.detail.game_detail.gameContent?a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"比赛信息"}},[e.detail.game_detail.gameContent instanceof Array?e._e():a("div",{staticClass:"sport"},[e.detail.game_detail.gameContent.leaguename?a("p",{staticClass:"leaguename"},[e._v("赛事："+e._s(e.detail.game_detail.gameContent.leaguename))]):e._e(),e.detail.game_detail.gameContent.match?a("p",{staticClass:"match"},[e._v("队伍："+e._s(e.detail.game_detail.gameContent.match))]):e._e(),e.detail.game_detail.gameContent.matchdatetime?a("p",{staticClass:"matchdatetime"},[e._v("时间："+e._s(e.detail.game_detail.gameContent.matchdatetime))]):e._e()]),e.detail.game_detail.gameContent instanceof Array&&e.detail.game_detail.gameContent.length?a("div",e._l(e.detail.game_detail.gameContent,(function(t,n){return a("div",{key:n,staticClass:"sport multi"},[e.detail.game_detail.gameContent.length>1?a("p",{},[e._v(e._s(n+1)+"）")]):e._e(),t.leaguename?a("p",{staticClass:"leaguename"},[e._v("赛事："+e._s(t.leaguename))]):e._e(),t.match?a("p",{staticClass:"match"},[e._v("队伍："+e._s(t.match))]):e._e(),t.matchdatetime?a("p",{staticClass:"matchdatetime"},[e._v("时间："+e._s(t.matchdatetime))]):e._e()])})),0):e._e()]):e._e(),e.detail.game_detail.cardContent?a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"牌型"}},[a("div",{staticClass:"em_wrap"},[a("label",[e._v("\n                    自己：\n                ")]),e._l(e.detail.game_detail.cardContent,(function(t){return a("em",{key:t,staticClass:"gr",class:e.getPokerClass(t)})}))],2)]):e._e(),e.detail.game_detail.customizeKey?e._l(e.detail.game_detail.customizeKey,(function(t,n){return a("el-form-item",{key:n,attrs:{label:t.label}},[a("div",[e._v(e._s(t.value))])])})):e._e()],2)],1)},Ae=[],xe={name:"Game-Detail",props:["detail","statusText","data"],components:{},data:function(){return{}},computed:{},mounted:function(){this.init()},methods:{init:function(){},getPokerClass:function(e){e=e.split("_");var t={0:"heart",1:"spade",2:"diamond",3:"club"};return"gr-"+t[e[0]]+"-"+(e[1]?e[1].toLocaleLowerCase():"")},formatTime:function(e){return Object(c["b"])(e)}}},Ie=xe,De=(a("cc4a"),a("3ab8"),Object(p["a"])(Ie,Ce,Ae,!1,null,"5a18b4ca",null)),Se=De.exports,Fe={name:"User-Order",props:["type","user","product"],components:{GameDetail:Se},data:function(){return{list:{},totalData:null,datePickerOptions:{shortcuts:c["j"]},loading:!1,detailLoading:{},formData:{date:"",type:"",product_id:"",page:1},statusOptions:{1:"已创建",2:"已支付",3:"已完成",4:"取消"},statusClassOptions:{1:"warning",2:"info",3:"success",4:"info"}}},computed:{productListFilter:function(){var e=[];return this.product.navList.forEach((function(t){"Y"==t.is_show&&t.list&&t.list.length&&(e=e.concat(t.list.filter((function(e){return"Y"==e.is_show}))))})),e}},mounted:function(){this.init()},methods:{init:function(){this.requestList()},requestList:function(){var e=this;if(!this.loading){var t={type:this.formData.type,product_id:this.formData.product_id,page:this.formData.page};if(this.formData.date&&2==this.formData.date.length){var a=this.formData.date[0],n=this.formData.date[1];a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),n.setHours(23),n.setMinutes(59),n.setSeconds(59),n.setMilliseconds(999),t.starttime=parseInt(+a/1e3),t.endtime=parseInt(+n/1e3)}this.loading=!0,we(t).then((function(t){e.loading=!1,200==t.code?(e.list=t.list,t.list.totalData&&(e.totalData=t.list.totalData)):10002==t.code&&(e.list={})}))}},formatTime:function(e){return Object(c["b"])(e)},getStatusText:function(e){return this.statusOptions.filter((function(t){return t.value==e}))[0].label},showDetail:function(e){var t=this;e.detail?this.$refs.table.toggleRowExpansion(e):this.detailLoading[e.id]||(this.detailLoading[e.id]=!0,ke(e.order_sn).then((function(a){t.detailLoading[e.id]=!1,200==a.code&&(e.detail=a.list,t.$refs.table.toggleRowExpansion(e))})))},isAmountInput:function(e){return 1==e.type||2!=e.type&&(3==e.type||4!=e.type)},getTradeAt:function(e){return Object(c["b"])("0"==e.trade_at?e.created_at:e.trade_at)},getAcoutCodeText:function(e){return 1==e.type?e.acount.type_text+"充值":2==e.type?"提现至银行卡号："+Object(c["a"])(e.acount.acount):3==e.type?e.product.name+" 转至 余额":4==e.type?"余额 转至 "+e.product.name:""},filterSubmit:function(){this.requestList()},pageChange:function(e){this.formData.page=e,this.requestList()}}},Pe=Fe,Le=(a("4926"),a("825a"),Object(p["a"])(Pe,ge,ye,!1,null,"5dcedfe4",null)),Oe=Le.exports,Te={name:"User-Index",components:{CommonTwoCol:o["a"],Level:_,Info:x,Security:L,Modify:$,Bank:M,Charge:K,Withdraw:oe,Transfer:de,Exchange:ve,Order:Oe},data:function(){return{subNavShow:!0,navList:[{name:"个人中心",icon:"fa fa-user",subList:[{name:"会员等级",link:"/user",page:["level"],icon:a("8e60c")},{name:"个人资料",link:"/user/info",page:["info"],icon:a("664a")}]},{name:"财务中心",icon:"fa fa-credit-card",subList:[{name:"存款",link:"/user/charge",page:["charge"],icon:a("3ec4")},{name:"取款",link:"/user/withdraw",page:["withdraw"],icon:a("efd9")},{name:"投注记录",link:"/user/order",page:["order"],icon:a("218f")},{name:"资金记录",link:"/user/transfer",page:["transfer"],icon:a("94f3")},{name:"转账",link:"/user/exchange",page:["exchange"],icon:a("fbfe")}]}],loading:!1}},computed:{user:function(){return this.$store.getters.user},product:function(){return this.$store.getters.product},page:function(){return this.$route.params.page||"level"},type:function(){return this.$route.params.type},title:function(){var e={};this.navList.forEach((function(t){t.subList.forEach((function(t){t.page.forEach((function(a){e[a]=t.name}))}))}));var t=this.page,a=e[t];if("modify"==t)switch(this.type){case"password":a+="密码";break;case"security_code":this.user.userInfo.has_draw_passwd?a+="提款密码":a="设置提款密码";break;case"find_security_code":a="找回提款密码";break;case"phone":this.user.userInfo.mobile_phone?a+="手机号":a="绑定手机号";break;case"email":this.user.userInfo.email?a+="邮箱":a="绑定邮箱";break}if("agent"==t){switch(this.type){case"invite":a+="开户";break}this.type||(a+="说明")}return a}},mounted:function(){this.init()},methods:{init:function(){}}},je=Te,Be=(a("0b74"),Object(p["a"])(je,n,r,!1,null,null,null));t["default"]=Be.exports},db53:function(e,t,a){e.exports=a.p+"static/img/avatar.b882ba6b.jpg"},def1:function(e,t,a){"use strict";var n=a("8253"),r=a.n(n);r.a},efd9:function(e,t){e.exports="data:image/webp;base64,UklGRsACAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSJQAAAABf8G2kSRFN3CM3puff5aURERkwM8HWQnb6wZfIcn5QL1A15olQU8U/QCuJElSlXnu7q44vLn/9dDGfyP6r7Bt20ZM5yn0s2jVnhHLOtEvpYw6eeK5jmG5cm5gWHFJlGACvUA9w6Jnv/9Xhz7w/bg9gi0rlc7cEYx3kWmaVrTBahgWyuecLbomm84EOyshkUHfDAAAVlA4IAYCAADwDACdASoeAB4APjEWiUMiISEUBVQgAwS2GOAKlA8QDiD/7ALcA/gH4ATxlCOoPXfxJ5ZKIG0Ikg6PsDPEAfpR+mfvb6YB6AHhAfBh+4npTO8BMlc3G/oH2AdI9/bye07sVdzWn76q6uj+W30KN0sAAP7//k5Av03/jvgfO8//gYzsz1DRSnmS2z6b8wbQulev9VTf4xfHEtSOExseObVzfsz5NnzGthl7xNrBkPtB/OxRFbdJh+xXSj/8qf/SWW4vk1e13yyO6Z/FIdv8zujecyhDd8im7G2co/LVX//Jwf/ttP/riyf/vmv/wGhlOZ3wW7qzm+3pFDJ8UDTa+2Jzv/8dv/2oj9z8if91v8t1xuoUb4XIZm1/NsPi4aX8Lum8Zf9sh7W8p3//Lk/8xn+YP/4NMeLIoqWiqsHzkp92IX+uf+uT5eeZJ6v6ek/ImdoTdc69sbS/Wn6J/Eo5d66DI67Bs94fqL0uIDv0O+eUT+uxsbLUz4lbIvEiX3BsfaBF++kfI/nws5V5a+ngv2hf/dLHI5M2aYV14QtNqDRB7egKtguU2QMO0hq9Wy81iVEEAZGnzFerv/zrluNRCdwF3xj3R7cLKeJ8p+WdFI5Qvg/6du7byKOJwRm42v31/+rOKofHtpb5rrZb+LddU4qnF7mnV8F6qQGOfr7a0zlIe15oXegAAA=="},f662:function(e,t,a){},f8a1:function(e,t,a){"use strict";var n=a("6c6a"),r=a.n(n);r.a},f951:function(e,t,a){},fbfe:function(e,t){e.exports="data:image/webp;base64,UklGRngCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSMAAAAABP8KobSRJk6qe+7X8ydYOiojIZp6I3P0Wd0dk1vyEZc5y3ZK7f9TpOLIy2UXkTgaCa9u2zSZObdtObeM25/9/KdxJ8RzRf4Vt2zZU0vEK97cSskedkNggYoo+CK0tGzIEtwwY8gS39h0b9q5e7AuhDsPcZmOjSjiuYRYxzpLYx5xaNUv1LeY+1yxNzxDPn1VSSZeNKhvMqxvM7cgMQ5dW6eAF6W/CIfkiRXAT1aCO0H3mec5IKjaaSNWEwP1wAABWUDggkgEAAPAJAJ0BKh4AHgA+KRCGQqGhDfoADAFCWwAnTKEf4eQcOY4HAAzgH8A/qH7M++P6APOZ6jP0AOlR/ar0kiMKv87vABXu4Xv2GTp6mK278XjmqcU6931Tr4AA/v/+GIr9CP/yS31K1//ECvy6WWMOwQyCErqHQDyr4d77F+af/H//6BX3/7I7/+630mDeL353ny/xn391h/od3/M7ob/78bWdELeN1pO9QtlDVMu7ziPkaS/FmYbvnzw6HjmymDJ1a6U4ElA9cW+rz91GNc4Vz+7f/5+PL1P9xbf/2Y3lsP/LzI9yApA9+ZCHjOanqUSjx3nHmJd/t754Xf+J5ka79J9Q13ws7Vz/o1j38mhMBsO3oHf/6hH/2kH/3eW1olPfHX+0+TI//7KF9hSfcOVDAavwEsbxzuSaOVUEtP/zoNSc078ndaG95v2R/n/jIdIWwmiBWNYeR3wzD+VYVC8Mhp+ArhlrhznnCNCttMeLdy/txPeTHL+IZzfOTeB0pkEu/u86NKLsK+OrPtcOzRcynzlAAA=="}}]);
//# sourceMappingURL=chunk-68db8ccc.dd474754.js.map